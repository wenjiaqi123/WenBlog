# 索引的创建与设计原则

## 索引的代价

- 空间上的代价：每建立一个索引，都需要建立一个 B+树，每一颗 B+树的每个节点都是一个数据页（默认16KB），如果一张表的数据比较多，光是索引就会占据很多额外空间。比如对主键建一个索引，再对手机号建一个索引，再对身份证建一个索引，就需要 3 棵树的存储空间。
- 时间上的代价：对数据进行 ==增删改== 操作的时候，会修改索引树，因为每层节点是按照索引值 ==从小到大的顺序排列==，增删改会对节点的顺序和记录的排序造成破坏，需要额外的时间进行 ==记录移位==、==页面分裂==、==页面回收== 等操作来维护索引树。如果建立了多个索引，对每个索引树都要进行相关维护。