# æŸ¥è¯¢

## å‡†å¤‡

### å‘˜å·¥è¡¨

```mysql
drop table if exists emp;

create table emp
(
    empno    int           null comment 'å‘˜å·¥ç¼–å·',
    ename    varchar(50)   null comment 'å‘˜å·¥åç§°',
    job      varchar(50)   null comment 'èŒä½',
    mgr      int           null comment 'éƒ¨é—¨ä¸»ç®¡ç¼–å·',
    hiredate date          null comment 'å…¥èŒæ—¥æœŸ',
    sal      decimal(7, 2) null comment 'è–ªæ°´',
    comm     decimal(7, 2) null comment 'ä½£é‡‘',
    deptno   int           null comment 'éƒ¨é—¨ç¼–å·'
);
```

```mysql
INSERT INTO emp (`empno`, `ename`, `job`, `mgr`, `hiredate`, `sal`, `comm`, `deptno`)
VALUES (7369, 'SMITH', 'CLERK', 7902, '1980-12-17', 800.00, NULL, 20),
       (7499, 'ALLEN', 'SALESMAN', 7698, '1981-02-20', 1600.00, 300.00, 30),
       (7521, 'WARD', 'SALESMAN', 7698, '1981-02-22', 1250.00, 500.00, 30),
       (7566, 'JONES', 'MANAGER', 7839, '1981-04-02', 2975.00, NULL, 20),
       (7654, 'MARTIN', 'SALESMAN', 7698, '1981-09-28', 1250.00, 1400.00, 30),
       (7698, 'BLAKE', 'MANAGER', 7839, '1981-05-01', 2850.00, NULL, 30),
       (7782, 'CLARK', 'MANAGER', 7839, '1981-06-09', 2450.00, NULL, 10),
       (7788, 'SCOTT', 'ANALYST', 7566, '1987-04-19', 3000.00, NULL, 20),
       (7839, 'KING', 'PRESIDENT', NULL, '1981-11-17', 5000.00, NULL, 10),
       (7844, 'TURNER', 'SALESMAN', 7698, '1981-09-08', 1500.00, 0.00, 30),
       (7876, 'ADAMS', 'CLERK', 7788, '1987-05-23', 1100.00, NULL, 20),
       (7900, 'JAMES', 'CLERK', 7698, '1981-12-03', 950.00, NULL, 30),
       (7902, 'FORD', 'ANALYST', 7566, '1981-12-03', 3000.00, NULL, 20),
       (7934, 'MILLER', 'CLERK', 7782, '1982-01-23', 1300.00, NULL, 10),
       (7981, 'MILLER', 'CLERK', 7788, '1992-01-23', 2600.00, 500.00, 20);
```

![image-20220712210905072](https://attach.blog.wen7.online/20220712210905.png)



### éƒ¨é—¨è¡¨

```mysql
drop table if exists dept;

create table dept
(
    deptno int         null comment 'éƒ¨é—¨ç¼–å·',
    dname  varchar(14) null comment 'éƒ¨é—¨åç§°',
    loc    varchar(13) null comment 'åœ°ç†ä½ç½®'
);
```

```mysql
INSERT INTO dept (`deptno`, `dname`, `loc`)
VALUES (10, 'ACCOUNTING', 'NEW YORK'),
       (20, 'RESEARCH', 'DALLAS'),
       (30, 'SALES', 'CHICAGO'),
       (40, 'OPERATIONS', 'BOSTON');
```

![image-20220712213154023](https://attach.blog.wen7.online/20220712213154.png)



### è–ªèµ„ç­‰çº§è¡¨

```mysql
drop table if exists salgrade;

create table salgrade
(
    grade int(10) null comment 'è–ªèµ„ç­‰çº§',
    losal int(10) null comment 'æ­¤ç­‰çº§æœ€ä½å·¥èµ„',
    hisal int(10) null comment 'æ­¤ç­‰çº§æœ€é«˜å·¥èµ„'
);
```

```mysql
INSERT INTO salgrade (`grade`, `losal`, `hisal`)
VALUES (1, 700, 1200),
       (2, 1201, 1400),
       (3, 1401, 2000),
       (4, 2001, 3000),
       (5, 3001, 9999); 
```

![image-20220712212350305](https://attach.blog.wen7.online/20220712212350.png)



### bonus è¡¨

```mysql
drop table if exists bonus;

create table bonus
(
    ename varchar(10)   null comment 'å‘˜å·¥åç§°',
    job   varchar(9)    null comment 'èŒä½',
    sal   decimal(7, 2) null comment 'è–ªæ°´',
    comm  decimal(7, 2) null comment 'ä½£é‡‘'
);
```

![image-20220712213630877](https://attach.blog.wen7.online/20220712213630.png)



## select

### æ— å­å¥

```mysql
select 100;
select 2+5,3*2;
```

![image-20220712203840120](https://attach.blog.wen7.online/20220712203840.png)![image-20220712203855194](https://attach.blog.wen7.online/20220712203855.png)

- å¯ä»¥å•ç‹¬ä½¿ç”¨ select å­å¥ï¼Œä½†æ˜¯ä¸€èˆ¬ä¸ä¼šè¿™ä¹ˆä½¿ç”¨



## from

### dual è™šè¡¨ï¼ˆä¼ªè¡¨ï¼‰

```mysql
select 100
from dual;

select 2+5,3*2
from dual;
```

- dual è™šè¡¨



### åˆ«å

```mysql
select 2+5 å’Œ,3*2 ç§¯
from dual;
```

```mysql
select 2+5 as sum,3*2 as mul
from dual;
```

![image-20220712211301757](https://attach.blog.wen7.online/20220712211301.png)![image-20220712211546796](https://attach.blog.wen7.online/20220712211546.png)

- åœ¨æŸ¥è¯¢å­—æ®µåé¢åŠ ä¸Šåˆ«å
- ~~åˆ«åå¯ä»¥ä½¿ç”¨åŒå¼•å·å¼•èµ·æ¥ï¼Œå¦‚æœåˆ«åä¸­é—´æœ‰ç©ºæ ¼ï¼Œå°±ä¸€å®šè¦ä½¿ç”¨åŒå¼•å·åŒ…è£¹ï¼Œåˆ«åä¸­ä¸€èˆ¬ä¸è¦ä½¿ç”¨ç©ºæ ¼~~
	- æ ‡å‡†è¯­æ³•æ˜¯ä½¿ç”¨åŒå¼•å·ï¼Œ~~MySQL ä¹Ÿå¯ä½¿ç”¨å•å¼•å·~~
- ä¹Ÿå¯ä½¿ç”¨ as å†åŠ ä¸Šåˆ«åï¼ˆæ¨èä½¿ç”¨ asï¼‰



### æŸ¥è¯¢æ‰€æœ‰

```mysql
select *
from è¡¨å;
```

- ```mysql
  select *
  from emp;
  ```

- ![image-20220712214352231](https://attach.blog.wen7.online/20220712214609.png)

- ä» emp è¡¨ä¸­æŸ¥è¯¢æ‰€æœ‰çš„ä¿¡æ¯ï¼Œ* å·è¡¨ç¤ºæ‰€æœ‰åˆ—ï¼Œä½†æ˜¯æœ€å¥½ä¸è¦ä½¿ç”¨ * ï¼Œæ•ˆç‡ä¸é«˜



### æŸ¥è¯¢å¤šåˆ—

```mysql
select åˆ—å1,åˆ—å2...
from è¡¨å;
```

- ```mysql
	select t.empno,t.ename
	from emp as t;
	```
	
- ![image-20220712214601229](https://attach.blog.wen7.online/20220712214601.png)

- æ¯ä¸€åˆ—ä¸­é—´åŠ ä¸Šé€—å·ï¼Œæœ€åä¸€ä¸ªä¸åŠ 

- è¡¨ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ«åï¼Œä½†æ˜¯è¡¨çš„åˆ«åä¸€èˆ¬ä¸åŠ  as



### å»é‡æŸ¥è¯¢

```mysql
select distinct åˆ—å
from è¡¨å;
```

- ```mysql
	select distinct deptno
	from emp;
	```
	
- ![image-20220712215034830](https://attach.blog.wen7.online/20220712215034.png)

- **distinct åªèƒ½æ”¾åœ¨æŸ¥è¯¢å­—æ®µæœ€å‰é¢**

	- ![image-20220712215420543](https://attach.blog.wen7.online/20220712215420.png)

- ==åº”ç”¨äºæ‰€æœ‰åˆ—==ï¼Œè€Œä¸ä»…ä»…æ˜¯å‰ç½®å®ƒçš„åˆ—

	- ![image-20220712215527249](https://attach.blog.wen7.online/20220712215527.png)




### ç€é‡å·

å‡è®¾æœ‰ä¸€å¼ è¡¨ sys_userï¼Œå…¶ä¸­æœ‰ä¸€åˆ—çš„åç§°ä¸º orderï¼Œè¡¨ç¤ºå­¦ç”Ÿæ’å

![image-20220712222829691](https://attach.blog.wen7.online/20220712222829.png)

```mysql
-- é”™è¯¯,order æ˜¯å…³é”®å­—
select id, u_name,order
from sys_user;

-- æ­£ç¡®,order åŠ ä¸Šç€é‡å·
select id, u_name,`order` 
from sys_user;
```

![image-20220712222000597](https://attach.blog.wen7.online/20220712222000.png)

==åœ¨åˆ›å»ºè¡¨çš„æ—¶ï¼Œå­—æ®µåï¼Œè¡¨åè¦æ³¨æ„é¿å¼€è¿™äº›å…³é”®å­—==



## where

```mysql
select å­—æ®µå
from è¡¨å
where è¿‡æ»¤æ¡ä»¶;
```

- ```mysql
  -- æŸ¥è¯¢éƒ¨é—¨ç¼–å·ä¸º 10 çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯
  select *
  from emp
  where deptno = 10;
  ```

- ![image-20220713013538093](https://attach.blog.wen7.online/20220713013538.png)

- ```mysql
	-- æŸ¥è¯¢é›‡å‘˜åç§°ä¸º KING çš„å‘˜å·¥
	select *
	from emp
	where ename = 'KING';
	```

	![image-20220713013710169](https://attach.blog.wen7.online/20220713013710.png)

	- è™½ç„¶ KING å’Œ king éƒ½èƒ½æŸ¥è¯¢å‡ºæ¥ï¼Œä½†è¿™æ˜¯å±äº MySQL çš„ä¸€å¤„ï¼ˆä¸ªäººè®¤ä¸ºæ˜¯ä¸åˆç†çš„åœ°æ–¹ï¼‰ï¼Œåœ¨ Oracle æ•°æ®åº“æ˜¯æŸ¥ä¸å‡ºæ¥çš„ã€‚KING â‰  king



### è¿ç®—ç¬¦

#### ç®—æœ¯è¿ç®—ç¬¦

| ç®—æœ¯è¿ç®—ç¬¦ | å…¶ä»–å†™æ³• | åç§°       | ä½œç”¨       | ç¤ºä¾‹                                                 | è¯´æ˜         |
| :--------- | -------- | ---------- | ---------- | ---------------------------------------------------- | ------------ |
| +          |          | åŠ æ³•è¿ç®—ç¬¦ | ä¸¤ä¸ªæ•°ç›¸åŠ  | select A+B  from dual;                               |              |
| -          |          | å‡æ³•è¿ç®—ç¬¦ | ä¸¤ä¸ªæ•°ç›¸å‡ | select A-B  from dual;                               |              |
| *          |          | ä¹˜æ³•è¿ç®—ç¬¦ | ä¸¤ä¸ªæ•°ç›¸ä¹˜ | select A*B from dual;                                |              |
| /          | div      | é™¤æ³•è¿ç®—ç¬¦ | ä¸¤ä¸ªæ•°ç›¸é™¤ | select A/B from dual;<br />select A div B from dual; | ä¸€èˆ¬åªä½¿ç”¨ / |
| %          | mod      | å–ä½™è¿ç®—ç¬¦ | ä¸¤ä¸ªæ•°å–ä½™ | select A%B from dual;<br />select A mod B from dual; | ä¸€èˆ¬åªé€‚ç”¨ % |

##### åŠ æ³•å‡æ³•è¿ç®—ç¬¦

- æ•´æ•°ä¸æ•´æ•°çš„ç»“æœè¿˜æ˜¯æ•´æ•°ï¼Œæ•´æ•°ä¸æµ®ç‚¹æ•°çš„ç»“æœæ˜¯æµ®ç‚¹æ•°

![image-20220713015436344](https://attach.blog.wen7.online/20220713015436.png)



- åœ¨ Javaï¼ŒJavaScript ç­‰ç¼–ç¨‹è¯­è¨€ä¸­ï¼ŒåŠ å·å·¦å³å¦‚æœæœ‰å­—ç¬¦ï¼Œè¡¨ç¤ºå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œä½†æ˜¯ MySQL ä¸æ˜¯ã€‚åªè¡¨ç¤ºæ•°å€¼ç›¸åŠ ï¼Œè€Œä¸”ä¼šå°†å­—ç¬¦ä¸²ä»å‰å‘åè§£æå‡ºæ•°å€¼ï¼Œç›¸åŠ ï¼Œè½¬æ¢å¤±è´¥æŒ‰ç…§ 0 è®¡ç®—

![image-20220713015759492](https://attach.blog.wen7.online/20220713015759.png)![image-20220713015816450](https://attach.blog.wen7.online/20220713015816.png)![image-20220713015832322](https://attach.blog.wen7.online/20220713015832.png)



##### ä¹˜æ³•é™¤æ³•è¿ç®—ç¬¦

- ![image-20220713020723409](https://attach.blog.wen7.online/20220713020723.png)



##### å–æ¨¡è¿ç®—ç¬¦

![image-20220713021135701](https://attach.blog.wen7.online/20220713021135.png)



#### æ¯”è¾ƒè¿ç®—ç¬¦

| ç®—æœ¯è¿ç®—ç¬¦ | å…¶ä»–å†™æ³• | åç§°     | è¯´æ˜                       |
| :--------- | -------- | -------- | -------------------------- |
| >          |          | å¤§äº     |                            |
| <          |          | å°äº     |                            |
| >=         |          | å¤§äºç­‰äº |                            |
| <=         |          | å°äºç­‰äº |                            |
| =          |          | ç­‰äº     | ä¸¤è¾¹æœ‰ nullï¼Œç»“æœå°±ä¸º null |
| <=>        |          | å®‰å…¨ç­‰äº | è§£å†³ null çš„æ¯”è¾ƒé—®é¢˜       |
| !=         | <>       | ä¸ç­‰äº   | ä¸¤è¾¹æœ‰ nullï¼Œç»“æœå°±ä¸º null |

##### ç­‰å·è¿ç®—ç¬¦

ç»“æœä¸º trueï¼Œæ˜¾ç¤º 1ï¼Œç»“æœä¸º falseï¼Œæ˜¾ç¤º 0

- å¦‚æœç­‰å·ä¸¤ééƒ½æ˜¯æ•°å€¼ï¼ŒæŒ‰ç…§å¤§å°
- å¦‚æœç­‰å·ä¸¤ééƒ½æ˜¯å­—ç¬¦ä¸²ï¼ŒæŒ‰ç…§å­—ç¬¦ä¸²æ¯”è¾ƒ
- å¦‚æœä¸€è¾¹æ˜¯æ•°å€¼ï¼Œä¸€è¾¹æ˜¯å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²å°è¯•è½¬æ¢æˆæ•°å€¼ï¼Œè½¬æ¢å¤±è´¥ä¼šå½“æˆ 0ï¼Œå†è¿›è¡Œæ•°å€¼æ¯”è¾ƒ
- ç­‰å·ä¸¤è¾¹å¦‚æœå‡ºç° NULLï¼Œç»“æœä¸º NULL

![image-20220713022843123](https://attach.blog.wen7.online/20220713022843.png)



##### å®‰å…¨ç­‰äº

- å’Œ = å”¯ä¸€çš„åŒºåˆ«ï¼Œå°±æ˜¯ null å€¼çš„åˆ¤æ–­

![image-20220713024943778](https://attach.blog.wen7.online/20220713024943.png)



å¦‚æœä½¿ç”¨ comm = nullï¼Œä¼šå‘ç°æ²¡æœ‰æ•°æ®ï¼Œå› ä¸ºæ¯ä¸€æ¡çš„ comm å’Œ null æ¯”è¾ƒçš„ç»“æœéƒ½æ˜¯ nullï¼Œä¸æ˜¾ç¤ºï¼Œåªæœ‰æ¯”è¾ƒç»“æœ = 1 çš„æ‰ä¼šè¢«å±•ç¤ºå‡ºæ¥ï¼Œæ‰€ä»¥å½“ä½¿ç”¨å®‰å…¨æ¯”è¾ƒçš„æ—¶å€™ï¼Œcomm <=> nullï¼Œå¦‚æœ comm çš„å€¼ä¸º nullï¼Œæ¯”è¾ƒç»“æœå°±ä¸º 1ï¼Œå°±ä¼šå±•ç¤ºå‡ºæ¥

![image-20220713025300788](https://attach.blog.wen7.online/20220713025300.png)



#### æ¯”è¾ƒå…³é”®å­—

| è¿ç®—ç¬¦              | åç§°             | ä½œç”¨                               | ç¤ºä¾‹                                              |
| ------------------- | ---------------- | ---------------------------------- | ------------------------------------------------- |
| is null             | ä¸ºç©ºè¿ç®—ç¬¦       | åˆ¤æ–­å€¼ï¼Œå­—ç¬¦ä¸²æ˜¯ä¸ºç©º               | select * from emp where comm is null              |
| is not null         | ä¸ä¸ºç©ºè¿ç®—ç¬¦     | åˆ¤æ–­å€¼ï¼Œå­—ç¬¦ä¸²æ˜¯ä¸ä¸ºç©º             | select * from emp where comm is not null          |
| isnullï¼ˆï¼‰          | ä¸ºç©ºå‡½æ•°         | åˆ¤æ–­å€¼ï¼Œå­—ç¬¦ä¸²æ˜¯ä¸ºç©º               | select * from emp where isnull(comm)              |
|                     |                  |                                    |                                                   |
| leastï¼ˆï¼‰           | æœ€å°å€¼å‡½æ•°       | æ±‚å¤šä¸ªå€¼ä¸­æœ€å°å€¼                   | select least(1,2,3,4) from dual                   |
| greatestï¼ˆï¼‰        | æœ€å¤§å€¼å‡½æ•°       | æ±‚å¤šä¸ªå€¼ä¸­æœ€å¤§å€¼                   | select greatest(1,2,3,4) from dual                |
|                     |                  |                                    |                                                   |
| between ... and ... | ä¸¤å€¼ä¹‹é—´è¿ç®—ç¬¦   | åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦åœ¨ä¸¤ä¸ªå€¼ä¹‹é—´         | select * from emp where sal between 1000 and 2000 |
| inï¼ˆï¼‰              | å±äºè¿ç®—ç¬¦       | åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦åœ¨è¯¥åˆ—è¡¨ä¸­           | select * from emp where deptno in (10,20)         |
| not inï¼ˆï¼‰          | ä¸å±äºè¿ç®—ç¬¦     | åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸åœ¨è¯¥åˆ—è¡¨ä¸­         | select * from emp where deptno not in (10,20)     |
|                     |                  |                                    |                                                   |
| like                | æ¨¡ç³ŠåŒ¹é…è¿ç®—ç¬¦   | åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ç¬¦åˆæ¨¡ç³ŠåŒ¹é…è§„åˆ™     |                                                   |
| regexp              | æ­£åˆ™è¡¨è¾¾å¼è¿ç®—ç¬¦ | åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™ |                                                   |
| rlike               | æ­£åˆ™è¡¨è¾¾å¼è¿ç®—ç¬¦ | åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™ |                                                   |



##### ç©ºå€¼åˆ¤æ–­

<img src="https://attach.blog.wen7.online/20220713185459.png" alt="image-20220713185459716" style="zoom: 40%;" /><img src="https://attach.blog.wen7.online/20220713185527.png" alt="image-20220713185527392" style="zoom:40%;" />

<img src="https://attach.blog.wen7.online/20220713185627.png" alt="image-20220713185627499" style="zoom:50%;" />



##### æœ€å€¼

<img src="https://attach.blog.wen7.online/20220713190044.png" alt="image-20220713190044532" style="zoom:80%;" />



##### åŒºé—´

<img src="https://attach.blog.wen7.online/20220713190259.png" alt="image-20220713190259927" style="zoom:80%;" />

<img src="https://attach.blog.wen7.online/20220713190336.png" alt="image-20220713190336648" style="zoom:42%;" /><img src="https://attach.blog.wen7.online/20220713190401.png" alt="image-20220713190401347" style="zoom:42%;" />



##### è§„åˆ™åŒ¹é…

- ç›´æ¥ like 'S' ï¼Œè¡¨ç¤º ename = S çš„æ•°æ®ï¼Œæ˜¾ç„¶æ²¡æœ‰ã€ä¸‹å›¾ä¸­ä½¿ç”¨ S çš„æ¡ˆä¾‹å¹¶ä¸å¥½ï¼Œä½†æ˜¯åšä¸»å·²ç»å†™å®Œæ–‡æ¡£äº†ï¼Œå¤§å®¶å¯ä»¥ä½¿ç”¨å­—ç¬¦ K æŸ¥çœ‹æ•ˆæœã€‘

- % ä»£è¡¨ n ä¸ªå­—ç¬¦ï¼Œnçš„å–å€¼ä¸º â‰¥0 çš„æ•´æ•°

	- '%S' è¡¨ç¤º S å‰é¢æœ‰ n ä¸ªå­—ç¬¦ï¼Œå¯èƒ½æ˜¯ Sï¼Œå¯èƒ½æ˜¯ ASï¼Œå¯èƒ½æ˜¯ ABCSï¼Œç®€å•æ¥è¯´ï¼Œä»¥ S ç»“å°¾
	- 'S%' è¡¨ç¤º S åé¢æœ‰ n ä¸ªå­—ç¬¦ï¼Œå¯èƒ½æ˜¯ Sï¼Œå¯èƒ½æ˜¯ SAï¼Œå¯èƒ½æ˜¯ SABCï¼Œç®€å•æ¥è¯´ï¼Œä»¥ S å¼€å¤´
	- '%S%'  è¡¨ç¤º S å‰åæœ‰ n ä¸ªå­—ç¬¦ï¼Œç®€å•æ¥è¯´ï¼Œåªè¦å­—ç¬¦é‡ŒåŒ…å« S å³å¯

- _ ä»£è¡¨1ä¸ªå­—ç¬¦ï¼Œä½¿ç”¨çš„åœºæ™¯ä¸å¤šï¼Œæ²¡æœ‰ % ç”¨çš„å¤š

	- _K è¡¨ç¤ºç¬¬äºŒä¸ªå­—ç¬¦æ˜¯ K çš„å­—ç¬¦ä¸²
	- \_K\_ è¡¨ç¤ºä¸€å…±ä¸‰ä¸ªå­—ç¬¦ï¼Œä¸­é—´ä¸€ä¸ªä¸º K çš„å­—ç¬¦ä¸²

- è½¬ä¹‰å­—ç¬¦ \

	- æ¯”å¦‚æˆ‘æƒ³æŸ¥è¯¢ç¬¬äºŒä¸ªå­—ç¬¦æ˜¯ _ çš„å­—ç¬¦ä¸²ï¼Œwhere ename like '\_\\\_'ï¼›ç¬¬ä¸€ä¸ª _ è¡¨ç¤º1ä¸ªå­—ç¬¦ï¼Œç¬¬äºŒä¸ª _ å‰é¢ä½¿ç”¨äº† \ è½¬ä¹‰æˆ _

	- ```mysql
		select *
		from emp
		where ename like '__';		--	å¯ä»¥åŒ¹é… aa,bb,a_,b_
		where ename like '_\_';		--  å¯ä»¥åŒ¹é… a_,b_
		```

- ~~ä¸´æ—¶è½¬ä¹‰~~ 

	- å¦‚æœæƒ³è¦æŒ‡å®šæŸä¸ªå­—ç¬¦ä¸ºè½¬ä¹‰å­—ç¬¦ï¼Œéœ€è¦ä½¿ç”¨ escape

	- ```mysql
		select *
		from emp
		where ename like '_$_' escape '$';		--  æŒ‡å®š $ ä¸ºè½¬ä¹‰å­—ç¬¦,å³ç°åœ¨ $ æ‹¥æœ‰å’Œ \ ä¸€æ ·çš„åŠŸèƒ½
		```

- æ­£åˆ™åŒ¹é…

	- éœ€è¦äº†è§£æ­£åˆ™è¡¨è¾¾å¼

	- ```
		â€˜^â€™åŒ¹é…ä»¥è¯¥å­—ç¬¦åé¢çš„å­—ç¬¦å¼€å¤´çš„å­—ç¬¦ä¸²ã€‚
		â€˜$â€™åŒ¹é…ä»¥è¯¥å­—ç¬¦å‰é¢çš„å­—ç¬¦ç»“å°¾çš„å­—ç¬¦ä¸²ã€‚
		â€˜.â€™åŒ¹é…ä»»ä½•ä¸€ä¸ªå•å­—ç¬¦ã€‚
		â€œ[...]â€åŒ¹é…åœ¨æ–¹æ‹¬å·å†…çš„ä»»ä½•å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œ[abc]â€åŒ¹é…â€œaâ€æˆ–â€œbâ€æˆ–â€œcâ€ã€‚ä¸ºäº†å‘½åå­—ç¬¦çš„èŒƒå›´ï¼Œä½¿ç”¨ä¸€ ä¸ªâ€˜-â€™ã€‚â€œ[a-z]â€åŒ¹é…ä»»ä½•å­—æ¯ï¼Œè€Œâ€œ[0-9]â€åŒ¹é…ä»»ä½•æ•°å­—ã€‚
		â€˜*â€™åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªåœ¨å®ƒå‰é¢çš„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œx*â€åŒ¹é…ä»»ä½•æ•°é‡çš„â€˜xâ€™å­—ç¬¦ï¼Œâ€œ[0-9]*â€åŒ¹é…ä»»ä½•æ•°é‡çš„æ•°å­—ï¼Œ è€Œâ€œ*â€åŒ¹é…ä»»ä½•æ•°é‡çš„ä»»ä½•å­—ç¬¦ã€‚
		```

	- ```mysql
		select * from emp
		where ename regexp '^S';		-- æŸ¥è¯¢ ename ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼ '^S' (ä»¥Så¼€å¤´)çš„æ•°æ®
		
		select * from emp
		where ename regexp 'S$';		-- æŸ¥è¯¢ ename ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼ 'S$' (ä»¥Sç»“å°¾)çš„æ•°æ®
		```

![image-20220713192153818](https://attach.blog.wen7.online/20220713192153.png)

<img src="https://attach.blog.wen7.online/20220713192716.png" style="zoom:80%;" /><img src="https://attach.blog.wen7.online/20220713192747.png" alt="image-20220713192747119" style="zoom:80%;" /><img src="https://attach.blog.wen7.online/20220713192640.png" alt="image-20220713192640793" style="zoom:80%;" />



![image-20220713205348567](https://attach.blog.wen7.online/20220713205348.png)



#### é€»è¾‘è¿ç®—ç¬¦

| è¿ç®—ç¬¦ | å…¶ä»–å†™æ³• | åç§° | ä½œç”¨                   | ç¤ºä¾‹ |
| ------ | -------- | ---- | ---------------------- | ---- |
| and    | &&       | ä¸   | å¤šä¸ªåˆ¤æ–­æ¡ä»¶åŒæ—¶æˆç«‹   |      |
| or     | \|\|     | æˆ–   | å¤šä¸ªåˆ¤æ–­æ¡ä»¶æˆ–è€…æˆç«‹   |      |
| not    | !        | é   | åˆ¤æ–­æ¡ä»¶å–å           |      |
| xor    |          | å¼‚æˆ– | 2ä¸ªæ¡ä»¶ï¼Œåªèƒ½æœ‰1ä¸ªæ»¡è¶³ |      |

- æŸ¥æ‰¾ emp è¡¨ä¸­ï¼Œå·¥èµ„ [1000,2000] çš„å‘˜å·¥ä¿¡æ¯

	- ```mysql
		select *
		from emp
		where sal between 1000 and 2000;
		```

	- ```mysql
		select *
		from emp
		where sal >= 1000 and sal <= 2000;	ã€æ¯”è¾ƒå¤šã€‘
		where sal >= 1000 && sal <= 2000;
		```

- æŸ¥æ‰¾ emp è¡¨ä¸­ï¼Œå·¥èµ„ä¸åœ¨ [1000,2000] çš„å‘˜å·¥ä¿¡æ¯

	- ```mysql
		select *
		from emp
		where sal < 1000 or sal > 2000;		ã€æ¯”è¾ƒå¤šã€‘
		where sal < 1000 || sal > 2000;
		```

- æŸ¥æ‰¾ emp è¡¨ä¸­ï¼Œcomm æ˜¯ null çš„å‘˜å·¥ä¿¡æ¯

	- ```mysql
		select *
		from emp
		where comm is null;		-- where comm = null;ã€å†™æ³•é”™è¯¯ã€‘
		```

	- ```mysql
		select *
		from emp
		where comm <=> null;	-- ä½¿ç”¨å®‰å…¨ç­‰äº
		```

- æŸ¥æ‰¾ emp è¡¨ä¸­ï¼Œcomm ä¸æ˜¯ null çš„å‘˜å·¥ä¿¡æ¯

	- ```mysql
		select * 
		from emp 
		where comm is not null;
		```

	- ```mysql
		select *
		from emp
		where not comm is null;		-- å¯¹ comm is null å–å
		where not comm <=> null;	-- å¯¹ comm is null å–å
		```

		- ```mysql
			-- è¿™ç§åšæ³•èƒ½å¤Ÿé€šè¿‡ç¼–è¯‘,è¿è¡Œ,ä½†æ˜¯å®é™…ä¸ä¼šè¿™ä¹ˆåšçš„
			select *
			from emp
			where not comm is not null;		-- å¯¹ comm is not null å–å,å³æŸ¥è¯¢ comm ä¸º null çš„å€¼ 
			where not not not comm is not null;		-- è¿™ç§å„ç—¹çš„åšæ³•,åªè¦ä½ è‡ªå·±ä¸æ™•å°±è¡Œ
			```

- å¼‚æˆ–ä½¿ç”¨åœºæ™¯å¾ˆå°‘

	- ```mysql
		select *
		from emp
		where sal > 2000 xor deptno = 10;
		-- sal > 2000 å’Œ deptno = 10 åªèƒ½æœ‰ä¸€ä¸ªæ»¡è¶³
		```

	- ![image-20220713221641212](https://attach.blog.wen7.online/20220713221641.png)



#### ~~ä½è¿ç®—ç¬¦~~

| è¿ç®—ç¬¦ | åç§° | ä½œç”¨     | ç¤ºä¾‹ |
| ------ | ---- | -------- | ---- |
| &      | ä½ä¸ | ä½ä¸     |      |
| \|     | ä½æˆ– | ä½æˆ–     |      |
| ^      | å¼‚æˆ– | å–åå¼‚æˆ– |      |
| ~      | å–å | æŒ‰ä½å–å |      |
| >>     | å³ç§» | å³ç§»     |      |
| <<     | å·¦ç§» | å·¦ç§»     |      |

![image-20220714100711538](https://attach.blog.wen7.online/image-20220714100711538.png)

- é»˜è®¤æ˜¯ 8 å­—èŠ‚
- å¯¹ 3 å–å
    - <u>0000 0000</u>   <u>0000 0000</u>   <u>0000 0000</u>   <u>0000 0000</u>   <u>0000 0000</u>   <u>0000 0000</u>   <u>0000 0000</u>   <u>0000 0011</u>
    - <u>1111 1111</u>   <u>1111 1111</u>   <u>1111 1111</u>   <u>1111 1111</u>   <u>1111 1111</u>   <u>1111 1111</u>   <u>1111 1111</u>   <u>1111 1100</u> = (2^64^ -1) - 3



order by
---

```mysql
select *
from è¡¨å
where è¿‡æ»¤æ¡ä»¶
order by æ’åºå­—æ®µ
```

### é»˜è®¤æ’åº

```mysql
select *
from emp;
```

- é»˜è®¤æŒ‰ç…§æ’å…¥çš„é¡ºåºæ˜¾ç¤º

![image-20220714130710990](https://attach.blog.wen7.online/image-20220714130710990.png)



### æŒ‡å®šæ’åº

```mysql
select *
from emp
order by sal asc;		-- æŒ‰ç…§è–ªæ°´å‡åºæ’åº
order by sal desc;		-- æŒ‰ç…§è–ªæ°´é™åºæ’åº
```

- å‡åº ascï¼ˆé»˜è®¤ï¼‰ï¼Œé™åº desc
    - å› ä¸ºæ—¥å¸¸æ’åºï¼Œæˆ‘ä»¬éƒ½æ˜¯ 1ï¼Œ2ï¼Œ3... è¿™ç§é¡ºåºï¼Œé»˜è®¤å‡åº


<img src="https://attach.blog.wen7.online/image-20220714131222985.png" alt="image-20220714131222985" style="zoom: 55%;" /><img src="https://attach.blog.wen7.online/image-20220714131241472.png" alt="image-20220714131241472" style="zoom:55%;" />



### å¤šå­—æ®µæ’åº

```mysql
select *
from emp
order by deptno, sal desc;			-- å…ˆæŒ‰ç…§ deptno å‡åºæ’åº,å†æŒ‰ç…§ sal é™åº		
```

- åœ¨ç¬¬ä¸€åˆ—ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œè¿›è¡Œç¬¬äºŒåˆ—çš„æ’åº

![image-20220714131407563](https://attach.blog.wen7.online/image-20220714131407563.png)



### æŒ‡å®šé¡ºåºæ’åº

#### å‡†å¤‡

```mysql
drop table if exists t_user;

create table t_user
(
    id    int         null comment 'ç¼–å·',
    name  varchar(10) null comment 'å§“å',
    score int         null comment 'æˆç»©'
);
```

```mysql
INSERT INTO t_user (`id`, `name`, `score`)
VALUES (1, 'å°åˆš', 89),
       (2, 'å°æ˜', 95),
       (3, 'å°çº¢', 94),
       (4, 'å°è™', 78);
```

![image-20220714160933827](https://attach.blog.wen7.online/image-20220714160933827.png)



#### order by

```mysql
select *
from t_user
order by score desc;
```

![image-20220714161119498](https://attach.blog.wen7.online/image-20220714161119498.png)





#### è‡ªå®šä¹‰é¡ºåº

##### case when then end 

```mysql
select *
from t_user
order by case name
             when 'å°çº¢' then 1
             when 'å°æ˜' then 2
             when 'å°è™' then 3
             when 'å°åˆš' then 4
             end
        asc
```

![image-20220714161037881](https://attach.blog.wen7.online/image-20220714161037881.png)



##### field()

```mysql
select *
from t_user
order by field(name,'å°çº¢','å°æ˜','å°è™','å°åˆš') desc;
```

![image-20220714161454596](https://attach.blog.wen7.online/image-20220714161454596.png)



## limit

==limit ä½¿ç”¨åœ¨ SQL çš„æœ€åä¸€è¡Œ==

```mysql
select *
from è¡¨å
where è¿‡æ»¤æ¡ä»¶
order by æ’åºå­—æ®µ
limit [åç§»é‡,] è¡Œæ•°
```

### 1ä¸ªå‚æ•°

```mysql
-- æ˜¾ç¤ºå‰ 10 æ¡æ•°æ®
select *
from emp
limit 10;
```

![image-20220714170157353](https://attach.blog.wen7.online/image-20220714170157353.png)



### 2ä¸ªå‚æ•°

ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºï¼Œåç§»é‡ï¼Œå¯ä»¥çœç•¥ï¼Œçœç•¥çš„è¯è¡¨ç¤º 0ï¼Œçœç•¥çš„è¯å°±å¾—åˆ°äº†ä¸Šé¢ 1 ä¸ªå‚æ•°çš„æ•ˆæœï¼Œå°±æ˜¯å‰ 10 æ¡

ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºï¼Œè®°å½•æ•°

```mysql
select *
from emp
order by sal desc
limit 0,5;			-- ç¬¬ 0 æ¡ä¸ç®—,ä¹‹åçš„ 5 æ¡æ•°æ®

select *
from emp
order by sal desc
limit 5,5;			-- ç¬¬ 5 æ¡ä¸ç®—,ä¹‹åçš„ 5 æ¡æ•°æ®

select *
from emp
order by sal desc
limit 10,5;			-- ç¬¬ 10 æ¡ä¸ç®—,ä¹‹åçš„ 5 æ¡æ•°æ®
```

![image-20220714171416721](https://attach.blog.wen7.online/image-20220714171416721.png)

<img src="https://attach.blog.wen7.online/image-20220714170936391.png" alt="image-20220714170936391" style="zoom: 33%;" /><img src="https://attach.blog.wen7.online/image-20220714171004943.png" alt="image-20220714171004943" style="zoom: 33%;" /><img src="https://attach.blog.wen7.online/image-20220714171021517.png" alt="image-20220714171021517" style="zoom: 33%;" />



### offset

```mysql
select *
from emp
order by sal desc
limit 5 offset 10;		-- åç§»é‡ä¸º10,ä¹‹åçš„ 5 æ¡æ•°æ®,ç­‰åŒäº limit 10,5
```

![image-20220714171831128](https://attach.blog.wen7.online/image-20220714171831128.png)



### ç”¨é€”

==åˆ†é¡µ==

æ¯”å¦‚ QQ ç©ºé—´çš„æ—¥å¿—åˆ†é¡µï¼Œæˆ‘ä»¬ä¸æ˜¯ä¸€ä¸‹å­å°±åŠ è½½å…¨éƒ¨çš„ï¼Œè€Œæ˜¯ä¸€æ¬¡åŠ è½½ 10 æ¡ï¼Œç„¶åå†åŠ è½½ç¬¬äºŒé¡µçš„ 11-20 æ¡

æ¯”å¦‚ å¾®ä¿¡æœ‹å‹åœˆï¼Œæ‰“å¼€å¥³ç¥çš„æœ‹å‹åœˆï¼Œå¹¶ä¸æ˜¯ä¸€ä¸‹å­å…¨éƒ¨åŠ è½½å‡ºæ¥çš„ï¼Œè€Œæ˜¯å…ˆåŠ è½½ 20 æ¡ï¼Œç„¶åå‘ä¸‹æ»‘åŠ¨åˆ°ç¬¬ 20 æ¡ï¼Œä¼šæœ‰ä¸€ä¸ªåˆ·æ–°çš„å¡é¡¿ï¼Œå†åŠ è½½ 20-40 æ¡

æ¯”å¦‚ æŠ–éŸ³ä¹Ÿä¼šæœ‰ç±»ä¼¼çš„åˆ†é¡µ

åŠ è½½ç¬¬ 1 é¡µçš„ 10 æ¡æ•°æ®ï¼Œ`limit 0,10` 			

åŠ è½½ç¬¬ 2 é¡µçš„ 10 æ¡æ•°æ®ï¼Œ`limit 10,10`

åŠ è½½ç¬¬ 3 é¡µçš„ 10 æ¡æ•°æ®ï¼Œ`limit 20,10`

==limit  ï¼ˆ å½“å‰é¡µç  - 1 ï¼‰* æ¯é¡µæ¡æ•°ï¼Œæ¯é¡µæ¡æ•°==



### æ–¹è¨€

limit å¹¶ä¸æ˜¯æ‰€æœ‰æ•°æ®åº“éƒ½æ”¯æŒ

- MySQLï¼ŒPostgreSQLï¼ŒMariaDBï¼ŒSQLite æ”¯æŒ

- Oracleï¼ŒDB2ï¼ŒSQL Server ç­‰ä¸æ”¯æŒ



## å¤šè¡¨å…³è”

### å‰è¨€

å¤šè¡¨å…³è”çš„æƒ…å†µ

![image-20220719114821650](https://attach.blog.wen7.online/image-20220719114821650.png)

![image-20220719114831946](https://attach.blog.wen7.online/image-20220719114831946.png)

![image-20220719114840146](https://attach.blog.wen7.online/image-20220719114840146.png)

- æŸ¥è¯¢å­¦ç”Ÿç¼–å· = 3 çš„å­¦ç”Ÿçš„ç­çº§ç¼–å·

	- ```mysql
		select clazz_id
		from t_student
		where student_id = 3;		-- ç»“æœä¸º 203
		```

- æŸ¥è¯¢ç­çº§ç¼–å· = 203 çš„ç­ä¸»ä»»ç¼–å·

	- ```mysql
		select teacher_id
		from t_clazz
		where clazz_id = 203;		-- ç»“æœä¸º 1009
		```

- æŸ¥è¯¢æ•™å¸ˆç¼–å· = 1009 çš„æ•™å¸ˆä¿¡æ¯

	- ```mysql
		select *
		from t_teacher
		where teacher_id = 1009;	-- ç»“æœä¸º 1009,å†¯,å¥³,è‹±è¯­,æ˜¯
		```

	

å¦‚æœæˆ‘ä»¬æŸ¥è¯¢å­¦ç”Ÿç¼–å· = 3 çš„å­¦ç”Ÿçš„æ•™å¸ˆä¿¡æ¯ï¼Œæˆ‘ä»¬éœ€è¦æŸ¥è¯¢ä¸‰æ¬¡ï¼Œæ‰èƒ½æŸ¥å‡ºæ¥ã€‚å…¶ä¸­å…‰æ˜¯ç½‘ç»œè¿æ¥å°±è¿æ¥äº†ä¸‰æ¬¡ï¼Œå¦‚æœæˆ‘ä»¬èƒ½å¤Ÿä¸€æ¬¡æ€§å°±æŸ¥è¯¢å‡ºæ¥ï¼Œæ˜¯ä¸æ˜¯å¾ˆå¥½å‘¢ï¼Ÿ



### ç¬›å¡å°”ç§¯ï¼ˆäº¤å‰è¿æ¥ï¼‰

[ç™¾åº¦ç™¾ç§‘ - ç¬›å¡å°”ç§¯](https://baike.baidu.com/item/%E7%AC%9B%E5%8D%A1%E5%B0%94%E4%B9%98%E7%A7%AF/6323173?fromtitle=%E7%AC%9B%E5%8D%A1%E5%B0%94%E7%A7%AF&fromid=1434391&fr=aladdin)

- ä½•ä¸ºç¬›å¡å°”ç§¯ï¼Ÿ

	- ç¬›å¡å°”ç§¯æ˜¯ä¸€ä¸ªæ•°å­¦è¿ç®—ï¼Œç”±æ•°å­¦å®¶ ç¬›å¡å°” æå‡º

	- æœ‰ä¸¤ä¸ªé›†åˆï¼ŒX å’Œ Yï¼Œé‚£ä¹ˆ X å’Œ Y çš„æ‰€æœ‰å¯èƒ½çš„ç»„åˆå°±æ˜¯ ç¬›å¡å°”ç§¯

	- $ç¬›å¡å°”ç§¯çš„æ•°é‡ = X é›†åˆçš„æ•°é‡  *  Y é›†åˆçš„æ•°é‡$

	- å‡è®¾é›†åˆ Xï¼ˆå°æ˜ï¼Œå°åˆšï¼Œå°å¼ ï¼‰ï¼Œé›†åˆ Yï¼ˆå°çº¢ï¼Œå°ç¾ï¼‰äº’ç›¸è°ˆæ‹çˆ±ï¼Œæœ‰å¤šå°‘ç§å¯èƒ½

		- X = 3 ï¼ŒY = 2 ï¼Œç¬›å¡å°”ç§¯ = 3*2 = 6

		- | X é›†åˆ | Y é›†åˆ |
			| :----: | :----: |
			|  å°æ˜  |  å°çº¢  |
			|  å°æ˜  |  å°ç¾  |
			|        |        |
			|  å°åˆš  |  å°çº¢  |
			|  å°åˆš  |  å°ç¾  |
			|        |        |
			|  å°å¼   |  å°çº¢  |
			|  å°å¼   |  å°ç¾  |

			

#### é”™è¯¯ç»“æœ

```mysql
select *
from t_student,t_clazz;
```

ä¸‹å›¾æ˜¯æŸ¥è¯¢ç»“æœï¼Œä¸ºäº†æ–¹ä¾¿è§‚çœ‹ï¼Œæ‹·è´åˆ°äº† Excel ä¸­å¹¶è°ƒæ•´äº†æ ¼å¼

![image-20220719123516672](https://attach.blog.wen7.online/image-20220719123516672.png)



#### æ­£ç¡®ç»“æœ

åŠ ä¸Šå…³è”æ¡ä»¶

```mysql
select *
from t_student x,t_clazz y
where x.clazz_id = y.clazz_id
```

![image-20220719123909369](https://attach.blog.wen7.online/image-20220719123909369.png)

åœ¨ IntelliJ IDEA æˆ–è€… Navicat ç­‰å·¥å…·ä¸­ï¼Œä¼šå¯¹ * æœ‰ä¼˜åŒ–



### é‡å¤åˆ—å

```mysql
select student_id, student_name, gender, age, clazz_id, address, score,
       clazz_id, clazz_name, teacher_id, total_size
from t_student x,t_clazz y
where x.clazz_id = y.clazz_id

-- Column 'clazz_id' in field list is ambiguous ã€å­—æ®µåˆ—è¡¨ä¸­çš„ â€œclazz_idâ€ åˆ—ä¸æ˜ç¡®ã€‘
```

![image-20220719124446645](https://attach.blog.wen7.online/image-20220719124446645.png)

å› ä¸º t_student ä¸­æœ‰ clazz_id çš„å­—æ®µï¼Œt_clazz ä¸­ä¹Ÿæœ‰ clazz_id å­—æ®µ

==å¤šä¸ªè¡¨ä¸­æœ‰ç›¸åŒåˆ—æ—¶ï¼Œå¿…é¡»åœ¨åˆ—åä¹‹å‰åŠ ä¸Šè¡¨åå‰ç¼€==ï¼Œ**å¹¶ä¸”å»ºè®®åœ¨æ‰€æœ‰å­—æ®µå‰é¢éƒ½åŠ ä¸Šè¡¨åç§°**

![image-20220719124802653](https://attach.blog.wen7.online/image-20220719124802653.png)



### è¡¨åˆ«å

å¯ä»¥ç»™è¡¨èµ·åˆ«å

```mysql
select t_student.student_id,
       t_student.student_name,
       t_student.gender,
       t_student.age,
       t_student.clazz_id,
       t_student.address,
       t_student.score,
       t_clazz.clazz_id,
       t_clazz.clazz_name,
       t_clazz.teacher_id,
       t_clazz.total_size
from t_student,
     t_clazz
where t_student.clazz_id = t_clazz.clazz_id
```

```mysql
select t1.student_id,
       t1.student_name,
       t1.gender,
       t1.age,
       t1.clazz_id,
       t1.address,
       t1.score,
       t2.clazz_id,
       t2.clazz_name,
       t2.teacher_id,
       t2.total_size
from t_student t1,
     t_clazz t2
where t1.clazz_id = t2.clazz_id
```

![image-20220719125337097](https://attach.blog.wen7.online/image-20220719125337097.png)



- ç«–è¿‡æ¥å†™çš„è¯çœ‹èµ·æ¥æ²¡ä»€ä¹ˆæ„Ÿè§‰ï¼Œä½†æ˜¯å¦‚æœå°† select æŸ¥è¯¢çš„å­—æ®µå†™æˆä¸€è¡Œï¼Œå°±ä¼šå¾ˆè¾ƒå¤§æ„Ÿå®˜å·®åˆ«
- è¡¨åˆ«åçœ‹å…¬å¸è§„å®šï¼Œæˆ–è€…ä¸ªäººå–œå¥½
	- å¯ä»¥ æŒ‰ç…§ tã€t1ã€t2 è¿™ç§å‘½å
	- å¯ä»¥æŒ‰ç…§ è¡¨åé¦–å­—æ¯ç¼©å†™ï¼Œä¾‹å¦‚:  sys_user è¡¨çš„åˆ«åä¸º suï¼Œsys_user_role è¡¨çš„åˆ«åä¸º sur





### ç­‰å€¼è¿æ¥ å’Œ éç­‰å€¼è¿æ¥

#### ç­‰å€¼è¿æ¥

è¿æ¥æ¡ä»¶æ˜¯ç­‰å€¼çš„ï¼ˆåœ¨å·¥ä½œä¸­ï¼Œç»å¤§éƒ¨åˆ†éƒ½æ˜¯ç­‰å€¼è¿æ¥ï¼‰



#### éç­‰å€¼è¿æ¥

```mysql
-- æŸ¥è¯¢å‘˜å·¥ç¼–å·,å§“å,è–ªæ°´,è–ªæ°´ç­‰çº§
select t1.empno,
       t1.ename,
       t1.sal,
       t2.grade
from emp t1,salgrade t2
where t1.sal >= t2.losal and t1.sal <= t2.hisal
```

![image-20220719135514045](https://attach.blog.wen7.online/image-20220719135514045.png)



### è‡ªè¿æ¥ å’Œ éè‡ªè¿æ¥

#### éè‡ªè¿æ¥

ç›¸äº’å…³è”çš„è¡¨ä¸æ˜¯åŒä¸€å¼ è¡¨



#### è‡ªè¿æ¥

è¡¨æ˜¯ä¸€å¼ è¡¨ï¼Œé€»è¾‘å…³ç³»ä¸Šå½“æˆä¸¤å¼ è¡¨

```mysql
-- æŸ¥è¯¢å‘˜å·¥çš„ç¼–å·,å§“å,ä¸Šçº§ç®¡ç†è€…ç¼–å·,ä»¥åŠç®¡ç†è€…çš„ç¼–å·,å§“å,ä¸Šçº§ç®¡ç†è€…çš„ç¼–å·
select t1.empno,t1.ename,t1.mgr,
       t2.empno,t2.ename,t2.mgr
from emp t1,emp t2
where t1.mgr = t2.empno
```

![image-20220719135840967](https://attach.blog.wen7.online/image-20220719135840967.png)



### å†…è¿æ¥ å’Œ å¤–è¿æ¥

#### å‰è¨€

![image-20220719140746921](https://attach.blog.wen7.online/image-20220719140746921.png)

æˆ‘ä»¬ç»™å‘˜å·¥è¡¨åŠ ä¸Šä¸€è¡Œè®°å½•ï¼Œwencï¼Œéƒ¨é—¨ç¼–å·æ˜¯ 50

- emp è¡¨ä¸­çš„è®°å½• wenc çš„éƒ¨é—¨ç¼–å·æ˜¯ 50ï¼Œè€Œ dept è¡¨ä¸­æ˜¯æ²¡æœ‰ 50 çš„è¿™ä¸ªéƒ¨é—¨çš„
- dept è¡¨ä¸­çš„è®°å½•éƒ¨é—¨ç¼–å·ä¸º 40 çš„ï¼Œä½†æ˜¯æ²¡æœ‰å‘˜å·¥çš„éƒ¨é—¨ç¼–å·æ˜¯ 40 çš„



#### å†…è¿æ¥

ç°è±¡ï¼š**åªåˆå¹¶ä¸¤å¼ è¡¨ä¸­ç¬¦åˆæ¡ä»¶çš„è¡Œ**ï¼Œå‘˜å·¥è¡¨çš„ wenc æ²¡æœ‰æŸ¥è¯¢å‡ºæ¥ï¼Œéƒ¨é—¨ç¼–å· = 40 çš„ä¹Ÿæ²¡æœ‰å‡ºæ¥

```mysql
select t1.*,t2.*
from emp t1,dept t2
where t1.deptno = t2.deptno
```

![image-20220719141505293](https://attach.blog.wen7.online/image-20220719141505293.png)



#### å¤–è¿æ¥

é™¤äº†ç¬¦åˆæ¡ä»¶çš„è¡Œï¼Œè¿˜æœ‰å·¦è¡¨çš„å€¼æˆ–å³è¡¨çš„å€¼

![image-20220719140746921](https://attach.blog.wen7.online/image-20220719140746921.png)

==å°†ä»¥ä¸Š emp ç§°ä¸ºå·¦è¡¨ï¼Œdept ç§°ä¸ºå³è¡¨==



##### å·¦å¤–è¿æ¥

![image-20220719141901793](https://attach.blog.wen7.online/image-20220719141901793.png)

æŸ¥å‡ºæ¥ 16 è¡Œï¼Œå…¶ä¸­ wenc çš„è®°å½•ä¹Ÿè¢«æŸ¥è¯¢å‡ºæ¥ï¼Œä½†æ˜¯ç”±äºå³è¡¨ dept ä¸­æ²¡æœ‰ç¼–å· = 50 çš„è®°å½•ï¼Œæ‰€ä»¥å€¼ä¸ºç©º

==å·¦å¤–è¿æ¥ï¼šå·¦è¡¨çš„æ‰€æœ‰æ•°æ®éƒ½ä¼šè¢«æŸ¥è¯¢å‡ºæ¥ï¼Œå³è¡¨æ²¡æœ‰çš„å€¼ç”¨ null å¡«å……==



##### å³å¤–è¿æ¥

![image-20220719141927024](https://attach.blog.wen7.online/image-20220719141927024.png)

æŸ¥å‡ºæ¥ 16 è¡Œï¼Œå…¶ä¸­éƒ¨é—¨ç¼–å· = 40 çš„è®°å½•è¢«æŸ¥è¯¢å‡ºæ¥ï¼Œä½†æ˜¯ç”±äºå·¦è¡¨ emp ä¸­æ²¡æœ‰ dept = 40 çš„å‘˜å·¥è®°å½•ï¼Œæ‰€ä»¥å€¼ä¸ºç©º

==å³å¤–è¿æ¥ï¼šå³è¡¨æ‰€æœ‰çš„æ•°æ®éƒ½ä¼šè¢«æŸ¥è¯¢å‡ºæ¥ï¼Œå·¦è¡¨æ²¡æœ‰çš„å€¼ç”¨ null å¡«å……==



##### å…¨å¤–è¿æ¥

å°†å·¦è¡¨ï¼Œå³è¡¨æ‰€æœ‰çš„æ•°æ®éƒ½æŸ¥è¯¢å‡ºæ¥ï¼Œä¸ç¬¦åˆè¿æ¥æ¡ä»¶çš„ç”¨ null å¡«å……

![](https://attach.blog.wen7.online/image-20220719152251244.png)



##### å·¦å³è½¬æ¢

==å³å¤–è¿æ¥å¯ä»¥è½¬æ¢æˆå·¦å¤–è¿æ¥==ï¼Œå·¦å¤–è¿æ¥ä¹Ÿå¯ä»¥è½¬æ¢æˆå³å¤–è¿æ¥

emp æ˜¯å·¦è¡¨ï¼Œdept æ˜¯å³è¡¨ï¼Œå³å¤–è¿æ¥ä¼šå°† dept æ‰€æœ‰çš„è®°å½•éƒ½æŸ¥è¯¢å‡ºæ¥

æŠŠ dept å½“æˆå·¦è¡¨ï¼Œemp å½“æˆå³è¡¨ï¼Œå·¦å¤–è¿æ¥ä¼šå°†å·¦è¡¨ dept æ‰€æœ‰çš„è®°å½•éƒ½æŸ¥è¯¢å‡ºæ¥

==éœ€è¦å°†å“ªå¼ è¡¨å…¨éƒ¨æŸ¥è¯¢å‡ºæ¥çš„ï¼Œå«åšä¸»è¡¨ï¼Œå¦å¤–ä¸€å¼ è¡¨å«åšä»è¡¨==

![image-20220719143541478](https://attach.blog.wen7.online/image-20220719143541478.png)



#### 92è¯­æ³• å’Œ 99 è¯­æ³•

##### 92è¯­æ³•

==MySQL ä¸æ”¯æŒ==



##### 99è¯­æ³•

###### å†…è¿æ¥

==inner  join==ï¼Œinner å¯ä»¥çœç•¥

```mysql
select t1.*, t2.*
from emp t1,dept t2
where t1.deptno = t2.deptno;								-- ä¸æ¨è
```

```mysql
select t1.*, t2.*
from emp t1
         join dept t2 on t1.deptno = t2.deptno;				-- å†…è¿æ¥
```

```mysql
select t1.*, t2.*
from emp t1
         inner join dept t2 on t1.deptno = t2.deptno;		-- inner å¯ä»¥çœç•¥
```



###### å·¦å¤–è¿æ¥

==left outer join==ï¼Œ**outer å¯ä»¥çœç•¥**

```mysql
select t1.*, t2.*
from emp t1
         left join dept t2 on t1.deptno = t2.deptno;
```

```mysql
-- å¯ä»¥å…ˆåœ¨ student è¡¨ä¸­åŠ ä¸€æ¡æ•°æ®,ä½†æ˜¯ç­çº§æ˜¯ä¸å­˜åœ¨çš„ 210
select t1.*, t2.*,t3.*
from t_student t1
    left join t_clazz t2 on t1.clazz_id = t2.clazz_id;
    
select t1.*, t2.*,t3.*
from t_student t1
    left join t_clazz t2 on t1.clazz_id = t2.clazz_id
    left join t_teacher t3 on t2.teacher_id = t3.teacher_id;
```



###### å³å¤–è¿æ¥

==right outer join==ï¼Œ**outer å¯ä»¥çœç•¥**

```mysql
select t1.*, t2.*
from emp t1
         right join dept t2 on t1.deptno = t2.deptno;		-- å³å¤–è¿æ¥ä»¥ dept ä¸ºä¸»è¡¨
         
-- ç­‰åŒäºä¸‹æ–¹ SQL

select t1.*, t2.*
from dept t1
         left join emp t2 on t1.deptno = t2.deptno;			-- ä»¥ dept ä¸ºä¸»è¡¨,å·¦å¤–è¿æ¥
```



###### å…¨å¤–è¿æ¥

==full outer join==ï¼Œ**outer å¯ä»¥çœç•¥**ï¼Œ==MySQL ä¸æ”¯æŒå…¨å¤–è¿æ¥==

**æ•ˆæœå¦‚ä¸‹ï¼š** å¯ä»¥ä½¿ç”¨ Oracle å°è¯•ä¸€ä¸‹

![image-20220719152251244](https://attach.blog.wen7.online/image-20220719152251244.png)





### union all å’Œ union

å°†å¤šä¸ªæŸ¥è¯¢çš„ç»“æœé›†ï¼Œçºµå‘æ‹¼æ¥

æ‹¼æ¥æ—¶ï¼Œåˆ—çš„ç±»å‹å’Œåˆ—çš„ä¸ªæ•°å¿…é¡»ä¿æŒä¸€è‡´

#### union allï¼ˆç®€å•æ‹¼æ¥ï¼‰

```mysql
select t1.*, t2.*
from emp t1
         left join dept t2 on t1.deptno = t2.deptno

union all

select t1.*, t2.*
from emp t1
         right join dept t2 on t1.deptno = t2.deptno;
```



#### unionï¼ˆå»é‡ï¼‰

```mysql
select t1.*, t2.*
from emp t1
         left join dept t2 on t1.deptno = t2.deptno

union

select t1.*, t2.*
from emp t1
         right join dept t2 on t1.deptno = t2.deptno;
```

![image-20220719153313731](https://attach.blog.wen7.online/image-20220719153313731.png)



| çº¬åº¦ |          union           | ==union all== |
| :--: | :----------------------: | :-----------: |
| å»é‡ |           å»é‡           |    ä¸å»é‡     |
| æ’åº |           æ’åº           |    ä¸æ’åº     |
| æ•ˆç‡ | ä½ï¼ˆå› ä¸ºéœ€è¦å»é‡ï¼Œæ’åºï¼‰ |     æ›´é«˜      |



### äº¤å·®å¹¶è¡¥

#### å›¾è§£

<img src="https://attach.blog.wen7.online/image-20220721173600545.png" alt="image-20220721173600545"  />



#### å·¦å¤–è¿æ¥ï¼Œå³å¤–è¿æ¥

```mysql
select a.empno,a.ename,a.job,a.mgr,a.hiredate,a.sal,a.comm,a.deptno,
       b.deptno,b.dname,b.loc
from emp a
         left join dept b on a.deptno = b.deptno
```

```mysql
select a.empno,a.ename,a.job,a.mgr,a.hiredate,a.sal,a.comm,a.deptno,
       b.deptno,b.dname,b.loc
from emp a
         right join dept b on a.deptno = b.deptno
```

![image-20220721165057441](https://attach.blog.wen7.online/image-20220721165057441.png)

![image-20220721165125088](https://attach.blog.wen7.online/image-20220721165125088.png)



#### å†…è¿æ¥ï¼ˆå¹¶é›†ï¼‰

```mysql
select a.empno,a.ename,a.job,a.mgr,a.hiredate,a.sal,a.comm,a.deptno,
       b.deptno,b.dname,b.loc
from emp a
          join dept b on a.deptno = b.deptno;
```

![image-20220721165223839](https://attach.blog.wen7.online/image-20220721165223839.png)



#### Aå·®Bï¼ŒBå·®Aï¼ˆå·®é›†ï¼‰

```mysql
select a.empno,a.ename,a.job,a.mgr,a.hiredate,a.sal,a.comm,a.deptno,
       b.deptno,b.dname,b.loc
from emp a
    left join dept b on a.deptno = b.deptno
where b.deptno is null
```

```mysql
select a.empno,a.ename,a.job,a.mgr,a.hiredate,a.sal,a.comm,a.deptno,
       b.deptno,b.dname,b.loc
from emp a
    right join dept b on a.deptno = b.deptno
where a.deptno is null
```

![image-20220721170107950](https://attach.blog.wen7.online/image-20220721170107950.png)

![image-20220721170143614](https://attach.blog.wen7.online/image-20220721170143614.png)



#### å…¨å¤–è¿æ¥ï¼ˆäº¤é›†ï¼‰

```mysql
-- select a.empno,a.ename,a.job,a.mgr,a.hiredate,a.sal,a.comm,a.deptno,
--        b.deptno,b.dname,b.loc
-- from emp a
--        full join dept b on a.deptno = b.deptno;		-- MySQL ä¸æ”¯æŒå…¨å¤–è¿æ¥,ä½†å…¶ä»–æ•°æ®åº“å¯èƒ½æ”¯æŒ,ä¾‹å¦‚ Oracle
```

- MySQL äº¤é›†å¯ä»¥ä½¿ç”¨ union æ¥æ‹¼æ¥ï¼Œæ‹¼æ¥æ–¹æ¡ˆä¼—å¤š
	- `A+ union B+` éœ€è¦å»é‡
	- `A- union all äº¤é›† union all B-` 
	- `A+ union all B-` æˆ–è€… `B+ union all A-`

```mysql
select a.empno,a.ename,a.job,a.mgr,a.hiredate,a.sal,a.comm,a.deptno,
       b.deptno,b.dname,b.loc
from emp a left join dept b on a.deptno = b.deptno

union

select a.empno,a.ename,a.job,a.mgr,a.hiredate,a.sal,a.comm,a.deptno,
       b.deptno,b.dname,b.loc
from emp a right join dept b on a.deptno = b.deptno
```

![image-20220721165847196](https://attach.blog.wen7.online/image-20220721165847196.png)



#### ï¼ˆè¡¥é›†ï¼‰

`A- union all B-`

```mysql
select a.empno,a.ename,a.job,a.mgr,a.hiredate,a.sal,a.comm,a.deptno,
       b.deptno,b.dname,b.loc
from emp a left join dept b on a.deptno = b.deptno
where b.deptno is null

union all

select a.empno,a.ename,a.job,a.mgr,a.hiredate,a.sal,a.comm,a.deptno,
       b.deptno,b.dname,b.loc
from emp a right join dept b on a.deptno = b.deptno
where a.deptno is null
```

![image-20220721170546223](https://attach.blog.wen7.online/image-20220721170546223.png)





### ~~è‡ªç„¶è¿æ¥ å’Œ using~~

#### è‡ªç„¶è¿æ¥

natural  joinï¼šå°†ä¸¤å¼ è¡¨ä¸­**å­—æ®µç›¸åŒ**çš„ï¼Œè¿›è¡Œ**ç­‰å€¼è¿æ¥**

- ä¸å¤Ÿçµæ´»ï¼Œä¸å»ºè®®

```mysql
select a.*,b.*
from a
	join b on a.id = b.id and a.clazz_id = b.clazz_id;
```

```mysql
select a.*,b.*
from a
	natural join b;
```



#### using

- ä¼˜åŒ–äº†è‡ªç„¶è¿æ¥
- è¿˜æ˜¯æœ‰ç¼ºé™·ï¼Œå¿…é¡»ä¸¤å¼ è¡¨çš„å­—æ®µç›¸åŒ

```mysql
select a.*,b.*
from a
	join b using(id);			-- ç›¸å½“äº join b on a.id = b.id
--  join b using(clazz_id);		-- ç›¸å½“äº join b on a.clazz_id = b.clazz_id
```



### å…¶ä»–

> ã€Šé˜¿é‡Œå·´å·´å¼€å‘æ‰‹å†Œã€‹
>
> ã€å¼ºåˆ¶ã€‘è¶…è¿‡ä¸‰ä¸ªè¡¨ç¦æ­¢ joinã€‚éœ€è¦ join çš„å­—æ®µï¼Œæ•°æ®ç±»å‹ä¿æŒç»å¯¹ä¸€è‡´ï¼›å¤šè¡¨å…³è”æŸ¥è¯¢æ—¶ï¼Œä¿è¯è¢«å…³è”çš„å­—æ®µéœ€è¦æœ‰ç´¢å¼•





## å•è¡Œå‡½æ•°

### ç®€ä»‹

- ç›¸å½“äº Java ä¸­çš„ä¸€ä¸ªæ–¹æ³•
- **ä¸é€šç”¨**ï¼ŒMySQL ä¸­åˆ¤ç©ºå‡½æ•° ifnull(xxx,100)ï¼ŒPostgreSQL ä¸­åˆ¤ç©ºå‡½æ•° coalesce(xxx,100)
- åªå¯¹ä¸€è¡Œç»“æœè¿›è¡Œæ“ä½œï¼Œæ³¨æ„ä¸ **ç»„å‡½æ•°** åŒºåˆ«



### å­—ç¬¦ä¸²ï¼ˆé‡è¦ï¼‰

==å­—ç¬¦ä¸²æ˜¯ç´¢å¼•æ˜¯ä» 1 å¼€å§‹çš„==ï¼Œhelloworldï¼Œh æ˜¯ç¬¬1ä¸ªå­—ç¬¦ï¼Œe æ˜¯ç¬¬2ä¸ªå­—ç¬¦

| å‡½æ•°                     | å«ä¹‰                                                         | ç¤ºä¾‹                                 | å¸¸ç”¨     |
| ------------------------ | ------------------------------------------------------------ | ------------------------------------ | -------- |
| concat(s1,s2,s3...)      | æ‹¼æ¥å­—ç¬¦ä¸² s1,s2,s3...                                       | select concat('é—»å®¶å¥‡', 'å¾ˆ', 'å¸…')  | ==å¸¸ç”¨== |
| concat_ws(x,s1,s2,s3...) | æ‹¼æ¥å­—ç¬¦ä¸² s1,s2,s3...ï¼Œæ¯ä¸ªå­—ç¬¦ä¸²ä¸­é—´åŠ ä¸Šå­—ç¬¦ x             | select concat_ws(',', 'a', 'b', 'c') | ==å¸¸ç”¨== |
|                          |                                                              |                                      |          |
| char_length(str)         | è¿”å›å­—ç¬¦ä¸² str çš„å­—ç¬¦ä¸ªæ•°                                    | select char_length('é—»CçœŸå¸…ğŸ˜€')       | **é‡è¦** |
| length(str)              | è¿”å›å­—ç¬¦ä¸² str çš„å­—èŠ‚ä¸ªæ•°ï¼Œascii 1ä¸ªå­—èŠ‚ï¼Œä¸­æ–‡ 3ä¸ªå­—èŠ‚ï¼Œemoji 4ä¸ªå­—èŠ‚ | select length('é—»CçœŸå¸…ğŸ˜€')            | **é‡è¦** |
|                          |                                                              |                                      |          |
| upper(str)ï¼Œucase(str)   | å°†å­—ç¬¦ä¸²å…¨éƒ¨å¤§å†™                                             | select upper('helloworld')           |          |
| lower(str)ï¼Œlcase(str)   | å°†å­—ç¬¦ä¸²å…¨éƒ¨å°å†™                                             | select lower('HelloWorld')           |          |
|                          |                                                              |                                      |          |
| trim(str)                | å¯¹å­—ç¬¦ä¸² str å·¦å³å»ç©ºæ ¼                                      | select trim(' hello world ')         | ==å¸¸ç”¨== |
| ltrim(str)               | å¯¹å­—ç¬¦ä¸² str å·¦è¾¹å»ç©ºæ ¼                                      | select ltrim(' hello world ')        |          |
| rtrim(str)               | å¯¹å­—ç¬¦ä¸² str å³è¾¹å»ç©ºæ ¼                                      | select rtrim(' hello world ')        |          |
|                          |                                                              |                                      |          |
| lpad(str,len,pad)        | å·¦å¡«å……å‡½æ•°ï¼Œå¯¹ str å– len é•¿åº¦ï¼Œä¸è¶³é•¿åº¦çš„ï¼Œå·¦è¾¹ç”¨ pad å¡«å……  | ç”¨äºå³å¯¹é½ï¼Œæ¯”å¦‚é‡‘é¢                 | äº†è§£     |
| rpad(str,len,pad)        | å³å¡«å……å‡½æ•°ï¼Œå¯¹ str å– len é•¿åº¦ï¼Œä¸è¶³é•¿åº¦çš„ï¼Œå³è¾¹ç”¨ pad å¡«å……  | ç”¨äºå·¦å¯¹é½ï¼Œæ¯”å¦‚å®¶åº­ä½å€ï¼Œå§“å       | äº†è§£     |

```mysql
select concat('é—»å®¶å¥‡', 'å¾ˆ', 'å¸…')          as str,  -- æ‹¼æ¥å­—ç¬¦ä¸²
       concat_ws(',', 'a', 'b', 'c')       as str,  -- ä½¿ç”¨é€—å·,æ‹¼æ¥å­—ç¬¦ä¸²
       concat_ws(' ', 'hello', 'mysql')    as str   -- ä½¿ç”¨ç©ºæ ¼,æ‹¼æ¥å­—ç¬¦ä¸²
from dual
```

![image-20220722003721811](https://attach.blog.wen7.online/20220722003721.png)

```mysql
select char_length('hello')         as "å­—ç¬¦æ•°",   -- æœ‰ 5 ä¸ªå­—ç¬¦
       char_length('é—»å®¶å¥‡å¾ˆå¸…')     as "å­—ç¬¦æ•°",   -- æœ‰ 5 ä¸ªå­—ç¬¦
       char_length('é—»è€Cå¾ˆå¸…')     as "å­—ç¬¦æ•°",   -- æœ‰ 5 ä¸ªå­—ç¬¦
       char_length('é—»è€Cå¾ˆå¸…ğŸ¼')    as "å­—ç¬¦æ•°",   -- æœ‰ 6 ä¸ªå­—ç¬¦
       length('hello')              as "å­—èŠ‚æ•°",   -- å­—æ¯ 1ä¸ªå­—èŠ‚,ä¸€å…±5ä¸ªå­—èŠ‚
       length('é—»å®¶å¥‡å¾ˆå¸…')          as "å­—èŠ‚æ•°",   -- æ±‰å­— 3ä¸ªå­—èŠ‚,5*3=15ä¸ªå­—èŠ‚
       length('é—»è€Cå¾ˆå¸…')          as "å­—èŠ‚æ•°",    -- 4*3+1=13ä¸ªå­—èŠ‚
       length('é—»è€Cå¾ˆå¸…ğŸ¼')         as "å­—èŠ‚æ•°"    -- emoji 4ä¸ªå­—èŠ‚,4*3+1+4=17ä¸ªå­—èŠ‚
from dual
```

![image-20220722004834776](https://attach.blog.wen7.online/20220722004834.png)

```mysql
select upper('helloworld') as "å¤§å†™",
       ucase('helloworld') as "å¤§å†™",
       lower('HelloWorld') as "å°å†™",
       lcase('HelloWorld') as "å°å†™"
from dual								-- æ„ä¹‰ä¸å¤§,å› ä¸º MySQL å¯¹å¤§å°å†™å¹¶ä¸æ•æ„Ÿ
```

![image-20220722005432426](https://attach.blog.wen7.online/20220722005432.png)

```mysql
select trim(' hello world ')               as trim,         -- å­—ç¬¦ä¸²å·¦å³éƒ½å»ç©ºæ ¼
       ltrim(' hello world ')              as ltrim,        -- å­—ç¬¦ä¸²å·¦è¾¹å»ç©ºæ ¼
       rtrim(' hello world ')              as rtrim,        -- å­—ç¬¦ä¸²å³è¾¹å»ç©ºæ ¼
       char_length(trim(' hello world '))  as trimLength,   -- æŸ¥çœ‹å·¦å³éƒ½å»æ‰ç©ºæ ¼ä¹‹åçš„å­—ç¬¦é•¿åº¦
       char_length(ltrim(' hello world ')) as ltrimLength,  -- æŸ¥çœ‹å·¦è¾¹å»æ‰ç©ºæ ¼ä¹‹åçš„å­—ç¬¦é•¿åº¦
       char_length(rtrim(' hello world ')) as rtrimLength   -- æŸ¥çœ‹å³è¾¹å»æ‰ç©ºæ ¼ä¹‹åçš„å­—ç¬¦é•¿åº¦
from dual
```

![image-20220722010031023](https://attach.blog.wen7.online/20220722010031.png)

```mysql
select empno,
       ename,
       sal,
       lpad(sal, 10, '*') as lpad,  -- å·¦å¯¹é½,ä¸è¶³çš„è¡¥ * å·,
       lpad(sal, 10, ' ') as lpad,  -- å·¦å¯¹é½,ä¸è¶³çš„è¡¥ç©ºæ ¼,
       rpad(sal, 10, '+') as rpad,  -- å³å¯¹é½,ä¸è¶³çš„è¡¥ + å·
       rpad(sal, 10, ' ') as rpad   -- å³å¯¹é½,ä¸è¶³çš„è¡¥ç©ºæ ¼,
from emp
```

![image-20220722011344185](https://attach.blog.wen7.online/20220722011344.png)



### æ•°å€¼å‡½æ•°ï¼ˆé‡è¦ï¼‰

#### åŸºæœ¬å‡½æ•°ï¼ˆé‡è¦ï¼‰

| å‡½æ•°                  | å«ä¹‰                                     | ç¤ºä¾‹                            | å¸¸ç”¨     |
| --------------------- | ---------------------------------------- | ------------------------------- | -------- |
| rand()                | è¿”å› [0,1) çš„éšæœºæ•°                      | select rand(),rand()            | ==å¸¸ç”¨== |
| rand(p)               | å› å­ç›¸åŒï¼Œè¿”å›çš„éšæœºæ•°ç›¸åŒ               | select rand(5),rand(5)          |          |
|                       |                                          |                                 |          |
| round(x)              | å¯¹ x å››èˆäº”å…¥                            | select round(123.456)           | ==å¸¸ç”¨== |
| round(x,n)            | å¯¹ x å››èˆäº”å…¥ï¼Œä¿ç•™ n ä½å°æ•°             | select round(123.456,2)         | ==å¸¸ç”¨== |
| truncate(x, n)        | å¯¹ x æˆªæ–­ n ä½å°æ•°                       | select truncate(123.456,1)      |          |
|                       |                                          |                                 |          |
| ceil(x)               | å¯¹ x å‘ä¸Šå–æ•´ï¼Œè¿›1æ³•                     | select ceil(3.5)                | ==å¸¸ç”¨== |
| floor(x)              | å¯¹ x å‘ä¸‹å–æ•´ï¼Œå»å°¾æ³•                    | select floor(3.5)               | ==å¸¸ç”¨== |
|                       |                                          |                                 |          |
| abs(x)                | è¿”å› x çš„ç»å¯¹å€¼                          | select abs(-5),abs(5)           |          |
| sign(x)               | è¿”å› x çš„ç¬¦å·ï¼Œ0 è¿”å› 0ï¼Œæ­£æ•°è¿”å› 1      | select sign(-5),sign(0),sign(5) |          |
| pi()                  | è¿”å› Ï€ çš„å€¼                              | select pi()                     |          |
|                       |                                          |                                 |          |
| least(x1,x2,x3...)    | è¿”å› x1,x2,x3...ä¸­æœ€å°å€¼                 | select least(1,2,3)             |          |
| greatest(x1,x2,x3...) | è¿”å› x1,x2,x3... ä¸­æœ€å¤§å€¼                | select greatest(1,2,3)          |          |
|                       |                                          |                                 |          |
| mod(x,y)              | è¿”å› xÃ·y å¾—åˆ°çš„ä½™æ•°                      | select mod(11,3)                |          |
| sqrt(x)               | è¿”å› x å¼€å¹³æ–¹ä¹‹åçš„å€¼ï¼Œx = è´Ÿæ•°è¿”å› null | select sqrt(9),sqrt(-9)         |          |

```mysql
select rand()               as 'éšæœºæ•°A',   -- ã€0.8097804196270001ã€‘
       rand()               as 'éšæœºæ•°B',   -- ã€0.6456843341194879ã€‘
       rand(5)              as 'éšæœºæ•°C',   -- ã€0.40613597483014313ã€‘
       rand(5)              as 'éšæœºæ•°C`',  -- ã€0.40613597483014313ã€‘ å› ä¸º rand(5) æ˜¯åŒä¸€ä¸ªå› å­,C å’Œ C` ç›¸åŒ
       round(123.456)       as round,      -- å››èˆäº”å…¥,ä¿ç•™æ•´æ•°ã€123ã€‘
       round(123.5)         as round,      -- å››èˆäº”å…¥,ä¿ç•™æ•´æ•°ã€124ã€‘
       round(123.456, 0)    as round0,     -- å››èˆäº”å…¥,ä¿ç•™ 0 ä½å°æ•°ã€123ã€‘
       round(123.456, 1)    as round1,     -- å››èˆäº”å…¥,ä¿ç•™ 1 ä½å°æ•°ã€123.5ã€‘
       round(123.456, 2)    as round2,     -- å››èˆäº”å…¥,ä¿ç•™ 2 ä½å°æ•°ã€123.46ã€‘
       truncate(123.456, 0) as truncate,   -- æˆªæ–­å°æ•°,åªä¿ç•™ 0 ä½å°æ•°,ç›´æ¥ä¸¢å¼ƒå…¶ä»–,ä¸ä¼šè¿›è¡Œå››èˆäº”å…¥ã€123ã€‘
       truncate(123.456, 1) as truncate,   -- æˆªæ–­å°æ•°,åªä¿ç•™ 1 ä½å°æ•°,ç›´æ¥ä¸¢å¼ƒå…¶ä»–,ä¸ä¼šè¿›è¡Œå››èˆäº”å…¥ã€123.4ã€‘
       truncate(123.456, 2) as truncate,   -- æˆªæ–­å°æ•°,åªä¿ç•™ 2 ä½å°æ•°,ç›´æ¥ä¸¢å¼ƒå…¶ä»–,ä¸ä¼šè¿›è¡Œå››èˆäº”å…¥ã€123.45ã€‘
       truncate(123.456, 3) as truncate,   -- æˆªæ–­å°æ•°,åªä¿ç•™ 3 ä½å°æ•°,ç›´æ¥ä¸¢å¼ƒå…¶ä»–,ä¸ä¼šè¿›è¡Œå››èˆäº”å…¥ã€123.456ã€‘
       ceil(3.5)            as ceil,       -- ã€4ã€‘
       ceil(-3.5)           as ceil,       -- ã€-3ã€‘
       floor(3.5)           as floor,      -- ã€3ã€‘
       floor(-3.5)          as floor,      -- ã€-4ã€‘
       abs(-5)              as abs,        -- è¿”å›ç»å¯¹å€¼ã€5ã€‘
       abs(5)               as abs,        -- è¿”å›ç»å¯¹å€¼ã€5ã€‘
       sign(-5)             as sign,       -- è¿”å›æ­£è´Ÿ,è´Ÿæ•°è¿”å› -1ã€-1ã€‘
       sign(0)              as sign,       -- è¿”å›æ­£è´Ÿ,0 è¿”å› 0ã€0ã€‘
       sign(5)              as sign,       -- è¿”å›æ­£è´Ÿ,æ­£æ•°è¿”å› 1ã€1ã€‘
       pi()                 as pi,         -- è¿”å› Ï€ çš„å€¼ã€3.141593ã€‘
       pi()                 as pi,         -- è¿”å› Ï€ çš„å€¼ã€3.141593ã€‘
       least(1, 2, 3)       as least,      -- è¿”å›æ•°åˆ—ä¸­æœ€å°çš„å€¼ã€1ã€‘
       greatest(1, 2, 3)    as greatest,   -- è¿”å›æ•°åˆ—ä¸­æœ€å¤§çš„å€¼ã€3ã€‘
       mod(11, 3)           as 'ä½™æ•°',      -- è¿”å› 11Ã·3=3......2 çš„ä½™æ•°ã€2ã€‘
       sqrt(-9)             as 'å¼€å¹³æ–¹',    -- è¿”å› -9 çš„å¼€å¹³æ–¹æ ¹,-9 ä¸ºè´Ÿæ•°,è¿”å› nullã€nullã€‘
       sqrt(9)              as 'å¼€å¹³æ–¹'     -- è¿”å› 9 çš„å¼€å¹³æ–¹æ ¹ã€3ã€‘
from dual
```

```mysql
select rand()  as 'éšæœºæ•°A', -- 0.8097804196270001
       rand()  as 'éšæœºæ•°B', -- 0.6456843341194879
       rand(5) as 'éšæœºæ•°C', -- 0.40613597483014313
       rand(5) as 'éšæœºæ•°C`' -- 0.40613597483014313 å› ä¸º rand(5) æ˜¯åŒä¸€ä¸ªå› å­,C å’Œ C` ç›¸åŒ
from dual
```

![image-20220721230857825](https://attach.blog.wen7.online/20220721230857.png)

```mysql
select round(123.456)       as round,    -- å››èˆäº”å…¥,ä¿ç•™æ•´æ•°
       round(123.5)         as round,    -- å››èˆäº”å…¥,ä¿ç•™æ•´æ•°
       round(123.456, 0)    as round0,   -- å››èˆäº”å…¥,ä¿ç•™ 0 ä½å°æ•°
       round(123.456, 1)    as round1,   -- å››èˆäº”å…¥,ä¿ç•™ 1 ä½å°æ•°
       round(123.456, 2)    as round2,   -- å››èˆäº”å…¥,ä¿ç•™ 2 ä½å°æ•°
       truncate(123.456, 0) as truncate, -- æˆªæ–­å°æ•°,åªä¿ç•™ 0 ä½å°æ•°,ç›´æ¥ä¸¢å¼ƒå…¶ä»–,ä¸ä¼šè¿›è¡Œå››èˆäº”å…¥
       truncate(123.456, 1) as truncate, -- æˆªæ–­å°æ•°,åªä¿ç•™ 1 ä½å°æ•°,ç›´æ¥ä¸¢å¼ƒå…¶ä»–,ä¸ä¼šè¿›è¡Œå››èˆäº”å…¥
       truncate(123.456, 2) as truncate, -- æˆªæ–­å°æ•°,åªä¿ç•™ 2 ä½å°æ•°,ç›´æ¥ä¸¢å¼ƒå…¶ä»–,ä¸ä¼šè¿›è¡Œå››èˆäº”å…¥
       truncate(123.456, 3) as truncate  -- æˆªæ–­å°æ•°,åªä¿ç•™ 3 ä½å°æ•°,ç›´æ¥ä¸¢å¼ƒå…¶ä»–,ä¸ä¼šè¿›è¡Œå››èˆäº”å…¥
from dual
```

![image-20220721231414489](https://attach.blog.wen7.online/20220721231414.png)

```mysql
select ceil(3.5)   as ceil,     -- 4
       ceil(-3.5)  as ceil,     -- -3
       floor(3.5)  as floor,    -- 3
       floor(-3.5) as floor     -- -4
from dual
```

<img src="https://attach.blog.wen7.online/20220721230507.png" alt="image-20220721230507569" style="zoom:67%;" />

```mysql
select abs(-5)  as abs,     -- è¿”å›ç»å¯¹å€¼
       abs(5)   as abs,     -- è¿”å›ç»å¯¹å€¼
       sign(-5) as sign,    -- è¿”å›æ­£è´Ÿ,è´Ÿæ•°è¿”å› -1
       sign(0)  as sign,    -- è¿”å›æ­£è´Ÿ,0 è¿”å› 0
       sign(5)  as sign,    -- è¿”å›æ­£è´Ÿ,æ­£æ•°è¿”å› 1
       pi()     as pi,      -- è¿”å› Ï€ çš„å€¼
       pi()     as pi       -- è¿”å› Ï€ çš„å€¼
from dual
```

<img src="https://attach.blog.wen7.online/20220721231714.png" alt="image-20220721231714595" style="zoom:67%;" />

```mysql
select least(1, 2, 3)    as least,      -- è¿”å›æ•°åˆ—ä¸­æœ€å°çš„å€¼
       greatest(1, 2, 3) as greatest,   -- è¿”å›æ•°åˆ—ä¸­æœ€å¤§çš„å€¼
       mod(11, 3)        as 'ä½™æ•°',      -- è¿”å› 11Ã·3=3......2 çš„ä½™æ•°
       sqrt(-9)          as 'å¼€å¹³æ–¹',    -- è¿”å› -9 çš„å¼€å¹³æ–¹æ ¹,-9 ä¸ºè´Ÿæ•°,è¿”å› null
       sqrt(9)           as 'å¼€å¹³æ–¹'     -- è¿”å› 9 çš„å¼€å¹³æ–¹æ ¹,3
from dual
```

<img src="https://attach.blog.wen7.online/20220721232046.png" alt="image-20220721232046762" style="zoom:67%;" />



#### è§’åº¦ä¸å¼§åº¦

<img src="https://attach.blog.wen7.online/20220721233727.png" alt="image-20220721233727675" style="zoom: 80%;" />

| å‡½æ•°       | å«ä¹‰             | ç¤ºä¾‹                                   | å¸¸ç”¨ |
| ---------- | ---------------- | -------------------------------------- | ---- |
| radians(x) | å°†è§’åº¦è½¬åŒ–ä¸ºå¼§åº¦ | select radians(90),radians(180)        |      |
| degrees(x) | å°†å¼§åº¦è½¬æ¢ä¸ºè§’åº¦ | select degrees(pi()),degrees(pi() / 2) |      |

```mysql
select radians(30)       as 'å¼§åº¦', 	-- Ï€/6
       radians(90)       as 'å¼§åº¦', 	-- Ï€/2
       radians(180)      as 'å¼§åº¦', 	-- Ï€
       degrees(pi())     as 'è§’åº¦', 	-- 180Â°
       degrees(pi() / 2) as 'è§’åº¦', 	-- 90Â°
       degrees(pi() / 6) as 'è§’åº¦'  	-- 30Â°
from dual
```

![image-20220721233618056](https://attach.blog.wen7.online/20220721233618.png)



#### ä¸‰è§’å‡½æ•°

<img src="https://attach.blog.wen7.online/20220721234055.png" alt="image-20220721234055644" style="zoom: 50%;" />

| å‡½æ•°   | å«ä¹‰                        | ç¤ºä¾‹                                 | å¸¸ç”¨ |
| ------ | --------------------------- | ------------------------------------ | ---- |
| sin(x) | è¿”å› x æ­£å¼¦å€¼ï¼Œx ä¸ºå¼§åº¦å€¼   | select sin($\fracÏ€6$),sin($\fracÏ€2$) |      |
| cos(x) | è¿”å› x ä½™å¼¦å€¼ï¼Œx ä¸ºå¼§åº¦å€¼   | select cos(0),cos($\fracÏ€3$)         |      |
| tan(x) | è¿”å› x æ­£åˆ‡å€¼ï¼Œx ä¸ºå¼§åº¦å€¼   |                                      |      |
| cot(x) | è¿”å› x çš„ä½™åˆ‡å€¼ï¼Œx ä¸ºå¼§åº¦å€¼ |                                      |      |

<img src="https://attach.blog.wen7.online/20220721234430.png" alt="image-20220721234430482" style="zoom: 50%;" />

```mysql
select sin(0)        as 'sin(0)',   -- sin(0) = 0
       sin(pi() / 6) as 'sin(Ï€/6)', -- sin(Ï€/6) = 1/2
       sin(pi() / 2) as 'sin(Ï€/2)', -- sin(Ï€/2) = 1
       cos(0)        as 'cos(0)',   -- cos(0) = 1
       cos(pi() / 3) as 'cos(Ï€/3)'  -- cos(Ï€) = 1/2
from dual
```

<img src="https://attach.blog.wen7.online/20220722000203.png" alt="image-20220722000202944" style="zoom: 67%;" />



#### æŒ‡æ•°ä¸å¯¹æ•°

| å‡½æ•°                 | å«ä¹‰                 | ç¤ºä¾‹                          | å¸¸ç”¨ |
| -------------------- | -------------------- | ----------------------------- | ---- |
| pow(x,n)ï¼Œpower(x,n) | è¿”å› x çš„ n æ¬¡æ–¹     | select pow(2,3),power(2,4)    |      |
| exp(n)               | è¿”å› e çš„ n æ¬¡æ–¹     | select exp(2),exp(3)          |      |
|                      |                      |                               |      |
| log2(x)              | è¿”å›ä»¥ 2 ä¸ºåº•çš„å¯¹æ•°  | select log2(8),log2(16)       |      |
| log10(x)             | è¿”å›ä»¥ 10 ä¸ºåº•çš„å¯¹æ•° | select log10(100),log10(1000) |      |
| log(x)ï¼Œln(x)        | è¿”å›ä»¥ e ä¸ºåº•çš„å¯¹æ•°  | select log(exp(2)),ln(exp(3)) |      |

```mysql
select pow(2, 3)   as pow,        -- 2 çš„ 3 æ¬¡æ–¹ = 8
       power(2, 4) as pow,        -- 2 çš„ 4 æ¬¡æ–¹ = 16
       exp(2)      as e2,         -- e çš„ å¹³æ–¹
       exp(3)      as e3,         -- e çš„ 3æ¬¡æ–¹
       log2(8)     as log2_8,     -- ä»¥ 2 ä¸ºåº•,8çš„å¯¹æ•°
       log2(16)    as log2_16,    -- ä»¥ 2 ä¸ºåº•,16çš„å¯¹æ•°
       log10(100)  as log10_100,  -- ä»¥ 10 ä¸ºåº•,100çš„å¯¹æ•°
       log10(1000) as log10_1000, -- ä»¥ 10 ä¸ºåº•,1000çš„å¯¹æ•°
       log(exp(2)) as loge_e2,    -- ä»¥ e ä¸ºåº•,eå¹³æ–¹çš„å¯¹æ•°
       ln(exp(3))  as loge_e3     -- ä»¥ e ä¸ºåº•,eä¸‰æ–¹çš„å¯¹æ•°
from dual
```

![image-20220722001336553](https://attach.blog.wen7.online/20220722001336.png)



#### è¿›åˆ¶è½¬æ¢

| å‡½æ•°        | å«ä¹‰                                                      | ç¤ºä¾‹                               | å¸¸ç”¨ |
| ----------- | --------------------------------------------------------- | ---------------------------------- | ---- |
| bin(x)      | è¿”å› x çš„äºŒè¿›åˆ¶ç¼–ç                                        | select bin(8),bin(4),bin(2),bin(1) |      |
| oct(x)      | è¿”å› x çš„å…«è¿›åˆ¶ç¼–ç                                        | select oct(64),oct(8),oct(1)       |      |
| hex(x)      | è¿”å› x çš„åå…­è¿›åˆ¶ç¼–ç                                      | select hex(256),hex(16),oct(1)     |      |
| conv(x,A,B) | å°† x å½“æˆ A è¿›åˆ¶ï¼Œä» A è¿›åˆ¶å˜æˆ B è¿›åˆ¶ï¼Œè¿”å› B è¿›åˆ¶çš„ç¼–ç  | select conv(1000000, 2, 10)        |      |

```mysql
select bin(8),   -- åè¿›åˆ¶çš„ 8 è½¬æˆäºŒè¿›åˆ¶,ä¸º 1000
       bin(4),   -- åè¿›åˆ¶çš„ 4 è½¬æˆäºŒè¿›åˆ¶,ä¸º 0100
       bin(2),   -- åè¿›åˆ¶çš„ 2 è½¬æˆäºŒè¿›åˆ¶,ä¸º 0010
       bin(1),   -- åè¿›åˆ¶çš„ 1 è½¬æˆäºŒè¿›åˆ¶,ä¸º 0001
       oct(64),  -- åè¿›åˆ¶çš„ 64 è½¬æˆå…«è¿›åˆ¶,ä¸º 0100
       oct(8),   -- åè¿›åˆ¶çš„ 8  è½¬æˆå…«è¿›åˆ¶,ä¸º 0010
       oct(1),   -- åè¿›åˆ¶çš„ 1  è½¬æˆå…«è¿›åˆ¶,ä¸º 0001
       hex(256), -- åè¿›åˆ¶çš„ 256 è½¬æˆåå…­è¿›åˆ¶,ä¸º 0100
       hex(16),  -- åè¿›åˆ¶çš„ 16  è½¬æˆåå…­è¿›åˆ¶,ä¸º 0010
       hex(1)    -- åè¿›åˆ¶çš„ 1   è½¬æˆåå…­è¿›åˆ¶,ä¸º 0001
from dual
```

![image-20220722002255267](https://attach.blog.wen7.online/20220722002255.png)

```mysql
select conv(1000000, 2, 10) as '64,2è½¬10',
       conv(1000000, 2, 8)  as '64,2è½¬8',
       conv(10000, 2, 10)   as '16,2è½¬10',
       conv(10000, 2, 8)    as '16,2è½¬8',
       conv(1000, 2, 10)    as '8,2è½¬10',
       conv(1000, 2, 8)     as '8,2è½¬8'
from dual
```

![image-20220722002800743](https://attach.blog.wen7.online/20220722002800.png)



### æ—¥æœŸå‡½æ•°ï¼ˆé‡è¦ï¼‰

#### å‰è¨€

- æ—¶é—´

	- æ—¥æœŸï¼ˆå¹´æœˆæ—¥ï¼‰**date**
	- æ—¶é—´ï¼ˆæ—¶åˆ†ç§’ï¼‰**time**

- æ—¶åŒº

	- **ä¸–ç•Œæ ‡å‡†æ—¶é—´ UTC**ï¼Œä»¥å‰æ˜¯æ ¼æ—å¨æ²»æ ‡å‡†æ—¶é—´ GMT
	- åŒ—äº¬æ—¶é—´ UTC + 8ï¼ŒåŒ—äº¬æ—¶é—´æ¯” UTC æ—© 8 å°æ—¶

- å¸¸è§ç±»å‹è½¬æ¢

	- å­—ç¬¦ä¸²ç±»å‹ï¼Œ"2020-02-02 18:18:18"

	- æ—¥æœŸç±»å‹ï¼ŒSQL è¯­å¥æŸ¥è¯¢å‡ºæ¥å±•ç¤ºçš„æ—¶å€™å’Œå­—ç¬¦ä¸²ä¸€æ ·ï¼Œåœ¨ IntelliJ IDEA ä¸­ï¼Œé¼ æ ‡ç‚¹è¿›å»æ—¥æœŸç±»å‹æœ‰å¼¹çª—

	- æ—¶é—´æˆ³ç±»å‹ï¼Œ

	- ```mysql
		select '2020-02-02 18:18:18'                                                   as "å­—ç¬¦ä¸²ç±»å‹",
		       unix_timestamp(str_to_date('2020-02-02 18:18:18', '%Y-%m-%d %H:%i:%S')) as "æ—¶é—´æˆ³",
		       str_to_date('2020-02-02 18:18:18', '%Y-%m-%d %H:%i:%S')                 as "æ—¥æœŸç±»å‹"
		from dual;
		```

	- <img src="https://attach.blog.wen7.online/image-20220722125008097.png" alt="image-20220722125008097" style="zoom: 67%;" />



#### è·å–æ—¥æœŸå’Œæ—¶é—´

| å‡½æ•°                | å«ä¹‰                                       | ç¤ºä¾‹                  | å¸¸ç”¨     |
| ------------------- | ------------------------------------------ | --------------------- | -------- |
| now()               | è·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´ï¼ŒåŒ…å«**å¹´æœˆæ—¥ï¼Œæ—¶åˆ†ç§’** | select now()          | ==å¸¸ç”¨== |
| sysdate()           | åŒä¸Šï¼ŒOracle ä¸­æ˜¯å…³é”®å­— sysdate            |                       | ==å¸¸ç”¨== |
| current_timestamp() | åŒä¸Š                                       |                       |          |
| localtime()         | åŒä¸Š                                       |                       |          |
| localtimestamp()    | åŒä¸Š                                       |                       |          |
|                     |                                            |                       |          |
| curdate()           | è·å–å½“å‰æ—¥æœŸï¼ŒåªåŒ…å«**å¹´æœˆæ—¥**             | select curdate()      | ==å¸¸ç”¨== |
| current_date()      | åŒä¸Š                                       | select current_date() | ==å¸¸ç”¨== |
| curtime()           | è·å–å½“å‰æ—¶é—´ï¼ŒåªåŒ…å«**æ—¶åˆ†ç§’**             | select curtime()      | ==å¸¸ç”¨== |
| current_time()      | åŒä¸Š                                       | select current_time() | ==å¸¸ç”¨== |
|                     |                                            |                       |          |
| UTC_date()          | è¿”å› UTC æ—¥æœŸï¼Œ                            | select UTC_date()     |          |
| UTC_time()          | è¿”å› UTC æ—¶é—´ï¼ŒåŒ—äº¬æ—¶é—´ = UTC + 8          | select UTC_time()     |          |

```mysql
select now()               as "å½“å‰dateå’Œtime",
       sysdate()           as "å½“å‰dateå’Œtime",
       current_timeStamp() as "å½“å‰dateå’Œtime",
       localTime()         as "å½“å‰dateå’Œtime",
       localTimeStamp()    as "å½“å‰dateå’Œtime"
from dual
```

![image-20220722122423138](https://attach.blog.wen7.online/image-20220722122423138.png)

```mysql
select curdate()      as "å½“å‰date",
       current_date() as "å½“å‰date",
       curtime()      as "å½“å‰time",
       current_time() as "å½“å‰time"
from dual
```

![image-20220722122747503](https://attach.blog.wen7.online/image-20220722122747503.png)

```mysql
select UTC_date()     as "UTC-date",
       UTC_time()     as "UTC-time",
       current_time() as "åŒ—äº¬-time"  -- åŒ—äº¬æ—¶é—´ = UTC + 8
from dual
```

![image-20220722123326726](https://attach.blog.wen7.online/image-20220722123326726.png)



#### æ ¼å¼åŒ–

| å‡½æ•°                       | å«ä¹‰                               | ç¤ºä¾‹                                                         | å¸¸ç”¨       |
| -------------------------- | ---------------------------------- | ------------------------------------------------------------ | ---------- |
| date_format(dateï¼Œ"æ ¼å¼")  | å°† æ—¥æœŸ æŒ‰ç…§ æ ¼å¼ï¼Œè½¬æ¢æˆå­—ç¬¦ä¸²    | select date_format(now(), '%Y-%m-%d %H:%i:%S')               | ==å¸¸ç”¨==   |
| time_format(timeï¼Œ"æ ¼å¼")  | å°† æ—¶é—´ æŒ‰ç…§ æ ¼å¼ï¼Œè½¬æ¢æˆå­—ç¬¦ä¸²    | select time_format(now(), '%H:%i:%S')                        |            |
|                            |                                    |                                                              |            |
| str_to_date(str,"æ ¼å¼")    | å°† å­—ç¬¦ä¸² æŒ‰ç…§æ ¼å¼ï¼Œè½¬æˆ date ç±»å‹ | select str_to_date('2020-02-02 18:18:18', '%Y-%m-%d %H:%i:%S') | ==å¸¸ç”¨==   |
|                            |                                    |                                                              |            |
| get_format(æ—¥æœŸç±»å‹ï¼Œåœ°åŒº) | è·å–ä¸åŒåœ°åŒº format æ ¼å¼ï¼Œä¹ æƒ¯ä¸åŒ | select get_format(DATE, 'USA')                               | ==å…¨çƒåŒ–== |

```mysql
select date_format(now(), '%Y-%m-%d %H:%i:%S')                 as "date æ ¼å¼åŒ–æˆå­—ç¬¦ä¸²",
       time_format(now(), '%Y-%m-%d %H:%i:%S')                 as "time æ ¼å¼åŒ–æˆå­—ç¬¦ä¸²",
       time_format(now(), '%H:%i:%S')                          as "time æ ¼å¼åŒ–æˆå­—ç¬¦ä¸²",
       str_to_date('2020-02-02 18:18:18', '%Y-%m-%d %H:%i:%S') as "å­—ç¬¦ä¸²è½¬ date å’Œ time"
from dual
```

![image-20220722133243308](https://attach.blog.wen7.online/image-20220722133243308.png)

```mysql
select get_format(DATE, 'USA')          as "ç¾å›½ date æ ¼å¼",
       get_format(TIME, 'USA')          as "ç¾å›½ time æ ¼å¼",
       get_format(DATETIME, 'USA')      as "ç¾å›½ datetime æ ¼å¼",
       get_format(DATE, 'ISO')          as "å›½é™…æ ‡å‡†ç»„ç»‡ date æ ¼å¼",
       get_format(TIME, 'ISO')          as "å›½é™…æ ‡å‡†ç»„ç»‡ time æ ¼å¼",
       get_format(DATETIME, 'ISO')      as "å›½é™…æ ‡å‡†ç»„ç»‡ datetime æ ¼å¼"
from dual
```

![image-20220722150708103](https://attach.blog.wen7.online/image-20220722150708103.png)



##### æ ¼å¼ç¬¦

| åˆ†ç±» | æ ¼å¼ç¬¦               | åç§°           | è¯´æ˜                                        | ç¤ºä¾‹                              |   å¸¸ç”¨   |
| :--: | -------------------- | -------------- | ------------------------------------------- | --------------------------------- | :------: |
|  å¹´  | %Y                   | å¹´ä»½(å››ä½)     | 4ä½æ•°å­—è¡¨è¿°å¹´ä»½                             | 2020ï¼Œ2022...                     | ==å¸¸ç”¨== |
|  å¹´  | %y                   | å¹´ä»½(ä¸¤ä½)     | 2ä½æ•°å­—è¡¨è¿°å¹´ä»½                             | 98ï¼Œ20ï¼Œ22...                     |          |
|      |                      |                |                                             |                                   |          |
|  æœˆ  | %M                   | æœˆä»½(è‹±æ–‡)     | è‹±æ–‡è¡¨è¿°æœˆä»½                                | Januaryï¼ŒOctober...               |   å¤–å›½   |
|  æœˆ  | %b                   | æœˆä»½(è‹±ç¼©)     | è‹±æ–‡è¡¨è¿°æœˆä»½ï¼ˆç¼©å†™ï¼‰                        | Janï¼ŒFeb...                       |   å¤–å›½   |
|  æœˆ  | %m                   | æœˆä»½(è¡¥é›¶)     | 2ä½æ•°å­—è¡¨è¿°æœˆä»½                             | 01ï¼Œ02ï¼Œ08ï¼Œ11...                 | ==å¸¸ç”¨== |
|  æœˆ  | %c                   | æœˆä»½(ç¼ºé›¶)     | æ•°å­—è¡¨è¿°æœˆä»½                                | 1ï¼Œ2ï¼Œ3ï¼Œ8ï¼Œ11...                 |          |
|      |                      |                |                                             |                                   |          |
|  æ—¥  | %D                   | æœˆä¸­å¤©æ•°(è‹±ç¼©) | è‹±æ–‡åç¼€è¡¨ç¤ºæœˆä¸­çš„å¤©æ•°                      | 1stï¼Œ2ndï¼Œ3rd...                  |          |
|  æ—¥  | %d                   | æœˆä¸­å¤©æ•°(è¡¥é›¶) | 2ä½æ•°å­—è¡¨è¿°æœˆä¸­çš„å¤©æ•°                       | 01ï¼Œ02ï¼Œ08ï¼Œ11ï¼Œ31...             | ==å¸¸ç”¨== |
|  æ—¥  | %e                   | æœˆä¸­å¤©æ•°(ç¼ºé›¶) | æ•°å­—è¡¨è¿°æœˆä¸­çš„å¤©æ•°                          | 1ï¼Œ2ï¼Œ3ï¼Œ8ï¼Œ11ï¼Œ31...             |          |
|  æ—¥  | %j                   | å¹´ä¸­å¤©æ•°(è¡¥é›¶) | æ•°å­—è¡¨è¿°åœ¨å¹´ä¸­çš„å¤©æ•°                        | 001ï¼Œ002ï¼Œ365......               |          |
|  æ—¥  | %w                   | å‘¨ä¸­å¤©æ•°(è¡¥é›¶) | æ•°å­—è¡¨è¿°åœ¨å‘¨ä¸­çš„å¤©æ•°                        | **0ï¼ˆæ˜ŸæœŸæ—¥ï¼‰**ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6 |          |
|      |                      |                |                                             |                                   |          |
|  æ—¶  | %H                   | 24æ—¶(è¡¥é›¶)     | 2ä½æ•°å­—è¡¨è¿°å°æ—¶ï¼Œ24å°æ—¶åˆ¶                   | 01ï¼Œ02ï¼Œ08ï¼Œ11ï¼Œ23...             | ==å¸¸ç”¨== |
|  æ—¶  | %k                   | 24æ—¶(ç¼ºé›¶)     | æ•°å­—è¡¨è¿°å°æ—¶ï¼Œ24å°æ—¶åˆ¶                      | 1ï¼Œ2ï¼Œ8ï¼Œ11ï¼Œ23...                |          |
|  æ—¶  | %h å’Œ %Iï¼ˆå¤§å†™çš„ iï¼‰ | 12æ—¶(è¡¥é›¶)     | 2ä½æ•°å­—è¡¨è¿°å°æ—¶ï¼Œ12 å°æ—¶åˆ¶                  | 01ï¼Œ02ï¼Œ08ï¼Œ11...                 | æ­é… %p  |
|  æ—¶  | %l ï¼ˆå°å†™çš„ Lï¼‰      | 12æ—¶(ç¼ºé›¶)     | æ•°å­—è¡¨è¿°å°æ—¶ï¼Œ12 å°æ—¶åˆ¶                     | 1ï¼Œ2ï¼Œ8ï¼Œ11...                    |          |
|      |                      |                |                                             |                                   |          |
|  åˆ†  | %i                   | åˆ†é’Ÿ(è¡¥é›¶)     | 2ä½æ•°å­—è¡¨è¿°åˆ†é’Ÿ                             | 01ï¼Œ02ï¼Œ08ï¼Œ59...                 | ==å¸¸ç”¨== |
|      |                      |                |                                             |                                   |          |
|  ç§’  | %S å’Œ %s             | ç§’é’Ÿ(è¡¥é›¶)     | 2ä½æ•°å­—è¡¨è¿°ç§’                               | 00ï¼Œ01ï¼Œ02ï¼Œ59...                 | ==å¸¸ç”¨== |
|      |                      |                |                                             |                                   |          |
|  å‘¨  | %W                   | æ˜ŸæœŸå‡ (è‹±æ–‡)   | ä¸€å‘¨ä¸­æ˜ŸæœŸçš„åç§°                            | Sundayï¼ŒMonday...                 |          |
|  å‘¨  | %a                   | æ˜ŸæœŸå‡ (è‹±ç¼©)   | ä¸€å‘¨ä¸­æ˜ŸæœŸçš„ç¼©å†™                            | Sunï¼ŒMon...                       |          |
|  å‘¨  | %U                   | ç¬¬å‡ å‘¨()       | æ•°å­—è¡¨è¿°åœ¨å¹´ä¸­çš„ç¬¬å‡ å‘¨ï¼Œä»¥ Sunday ä¸ºå‘¨ç¬¬1å¤© | 1ï¼Œ2ï¼Œ8ï¼Œ51...                    |          |
|  å‘¨  | %u                   | ç¬¬å‡ å‘¨()       | æ•°å­—è¡¨è¿°åœ¨å¹´ä¸­çš„ç¬¬å‡ å‘¨ï¼Œä»¥ Monday ä¸ºå‘¨ç¬¬1å¤© | 1ï¼Œ2ï¼Œ8ï¼Œ51...                    |          |
|      |                      |                |                                             |                                   |          |
|      | %T                   |                | æ—¶åˆ†ç§’ï¼Œ24å°æ—¶åˆ¶                            | 14:58:10                          |          |
|      | %r                   |                | æ—¶åˆ†ç§’ï¼Œ12å°æ—¶åˆ¶                            | 02:58:10 PM                       |          |
|      | %p                   |                | AM æˆ– PM                                    | AMï¼ŒPM                            |          |
|      | %%                   |                | è½¬ä¹‰ %                                      | %                                 |          |

```mysql
select date_format(t.tmpDate, '%Y')     as "å¹´ä»½(å››ä½) %Y",   -- 2020
       date_format(t.tmpDate, '%y')     as "å¹´ä»½(ä¸¤ä½) %y",   -- 20

       date_format(t.tmpDate, '%M')     as "æœˆä»½(è‹±æ–‡) %M",   -- February
       date_format(t.tmpDate, '%b')     as "æœˆä»½(è‹±ç¼©) %b",   -- Feb
       date_format(t.tmpDate, '%m')     as "æœˆä»½(è¡¥é›¶) %m",   -- 02
       date_format(t.tmpDate, '%c')     as "æœˆä»½(ç¼ºé›¶) %c",   -- 2

       date_format(t.tmpDate, '%D')     as "æœˆä¸­å¤©æ•°(è‹±ç¼©) %D", -- 2nd
       date_format(t.tmpDate, '%d')     as "æœˆä¸­å¤©æ•°(è¡¥é›¶) %d", -- 02
       date_format(t.tmpDate, '%e')     as "æœˆä¸­å¤©æ•°(ç¼ºé›¶) %e", -- 2
       date_format(t.tmpDate, '%j')     as "å¹´ä¸­å¤©æ•°(è¡¥é›¶) %j", -- 033
       date_format(t.tmpDate, '%w')     as "å‘¨ä¸­å¤©æ•°(è¡¥é›¶) %w", -- 0

       date_format(t.tmpDate, '%H')     as "24æ—¶(è¡¥é›¶) %H",  -- 07
       date_format(t.tmpDate, '%k')     as "24æ—¶(ç¼ºé›¶) %k",  -- 7
       date_format(t.tmpDate, '%h')     as "12æ—¶(è¡¥é›¶) %h",  -- 07
       date_format(t.tmpDate, '%l')     as "12æ—¶(ç¼ºé›¶) %l",  -- 7

       date_format(t.tmpDate, '%i')     as "åˆ†é’Ÿ(è¡¥é›¶) %i",   -- 08
       date_format(t.tmpDate, '%i') + 0 as "åˆ†é’Ÿ(åŠ 0å»0)",    -- 8
       date_format(t.tmpDate, '%S')     as "ç§’é’Ÿ(è¡¥é›¶) %S",   -- 09
       date_format(t.tmpDate, '%S') + 0 as "ç§’é’Ÿ(åŠ 0å»0)",    -- 9

       date_format(t.tmpDate, '%W')     as "æ˜ŸæœŸå‡ (è‹±æ–‡)",     -- Sunday
       date_format(t.tmpDate, '%a')     as "æ˜ŸæœŸå‡ (è‹±ç¼©)",     -- Sun
       date_format(t.tmpDate, '%U')     as "ç¬¬å‡ å‘¨()",       -- 05
       date_format(t.tmpDate, '%u')     as "ç¬¬å‡ å‘¨()",       -- 05

       date_format(t.tmpDate, '%T')     as "æ—¶åˆ†ç§’(24å°æ—¶)",   -- 07:08:09
       date_format(t.tmpDate, '%r')     as "æ—¶åˆ†ç§’(12å°æ—¶)",   -- 07:08:09 AM
       date_format(t.tmpDate, '%p')     as "AM/PM",       -- AM

       date_format(t.dateTmp, '%T')     as "æ—¶åˆ†ç§’(24å°æ—¶)",   -- 17:18:19
       date_format(t.dateTmp, '%r')     as "æ—¶åˆ†ç§’(12å°æ—¶)",   -- 05:18:19 PM
       date_format(t.dateTmp, '%p')     as "AM/PM"        -- PM
from (select str_to_date('2020-02-02 07:08:09', '%Y-%m-%d %H:%i:%S') as tmpDate,
             str_to_date('2020-02-02 17:18:19', '%Y-%m-%d %H:%i:%S') as dateTmp
      from dual) t;
```



##### åœ°åŒºæ ¼å¼ç¬¦

| æ—¥æœŸç±»å‹ | æ ¼å¼åŒ–ç±»å‹                | è¿”å›çš„æ ¼å¼åŒ–å­—ç¬¦ä¸² |
| -------- | ------------------------- | ------------------ |
| DATE     | USAï¼ˆ**ç¾å›½**ï¼‰           | %m.%d.%Y           |
| DATE     | JIS                       | %Y-%m-%d           |
| DATE     | ISOï¼ˆ**å›½é™…æ ‡å‡†åŒ–ç»„ç»‡**ï¼‰ | %Y-%m-%d           |
| DATE     | EUR                       | %d.%m.%Y           |
| DATE     | INTERNAL                  | %Y%m%d             |
|          |                           |                    |
| TIME     | USA                       | %h:%i:%s %P        |
| TIME     | JIS                       | %H:%i:%s           |
| TIME     | ISO                       | %H:%i:%s           |
| TIME     | EUR                       | %H.%i.%s           |
| TIME     | INTERNAL                  | %H%i%s             |
|          |                           |                    |
| DATETIME | USA                       | %Y-%m-%d %H.%i.%s  |
| DATETIME | JIS                       | %Y-%m-%d %H:%i:%s  |
| DATETIME | ISO                       | %Y-%m-%d %H:%i:%s  |
| DATETIME | EUR                       | %Y-%m-%d %H.%i.%s  |
| DATETIME | INTERNAL                  | %Y%m%d%H%i%s       |

```mysql
select get_format(DATE, 'USA')     as "ç¾å›½ date",                -- %m.%d.%Y
       get_format(TIME, 'USA')     as "ç¾å›½ time",                -- %h:%i:%s %p
       get_format(DATETIME, 'USA') as "ç¾å›½ datetime",            -- %Y-%m-%d %H.%i.%s

       get_format(DATE, 'ISO')     as "å›½é™…æ ‡å‡†åŒ–ç»„ç»‡ date",       -- %Y-%m-%d
       get_format(TIME, 'ISO')     as "å›½é™…æ ‡å‡†åŒ–ç»„ç»‡ time",       -- %H:%i:%s
       get_format(DATETIME, 'ISO') as "å›½é™…æ ‡å‡†åŒ–ç»„ç»‡ datetime"    -- %Y-%m-%d %H:%i:%s
from dual
```

![image-20220722160059128](https://attach.blog.wen7.online/image-20220722160059128.png)



#### è·å–å¹´æœˆæ—¥æ—¶åˆ†ç§’ï¼ˆå‡½æ•°ï¼‰

| å‡½æ•°                         | å«ä¹‰                                   | ç¤ºä¾‹                 | å¸¸ç”¨     |
| ---------------------------- | -------------------------------------- | -------------------- | -------- |
| year(date)                   | è·å–å¹´                                 | select year(now())   | ==å¸¸ç”¨== |
| month(date)                  | è·å–æœˆ                                 | select month(now())  | ==å¸¸ç”¨== |
| day(date)                    | è·å–æ—¥                                 | select day(now())    | ==å¸¸ç”¨== |
| hour(time)                   | è·å–å°æ—¶                               | select hour(now())   | ==å¸¸ç”¨== |
| minute(time)                 | è·å–åˆ†é’Ÿ                               | select minute(now()) | ==å¸¸ç”¨== |
| second(time)                 | è·å–ç§’é’Ÿ                               | select second(now()) | ==å¸¸ç”¨== |
|                              |                                        |                      |          |
| monthname(date)              | è·å–æœˆä»½                               | Januaryï¼Œ...         |          |
| dayname(date)                | è¿”å›æ˜ŸæœŸå‡                              | Mondayï¼ŒSunday...    |          |
| weekday(date)                | è¿”å›å‘¨å‡ ï¼Œ**å‘¨ä¸€æ˜¯0ï¼Œå‘¨æ—¥æ˜¯6**         |                      |          |
| quarter(date)                | è¿”å›å­£åº¦ï¼Œ123æœˆç¬¬1å­£åº¦                 | 1,2,3,4              |          |
|                              |                                        |                      |          |
| week(date)ï¼Œweekofyear(date) | è¿”å›ä¸€å¹´ä¸­ç¬¬å‡ å‘¨                       |                      |          |
| dayofyear(date)              | è¿”å›ä¸€å¹´ä¸­ç¬¬å‡ å¤©                       |                      |          |
| dayofmonth(date)             | è¿”å›ä¸€æœˆä¸­ç¬¬å‡ å¤©                       |                      |          |
| dayofweek(date)              | è¿”å›ä¸€å‘¨ä¸­ç¬¬å‡ å¤©ï¼Œ**å‘¨æ—¥æ˜¯1ï¼Œå‘¨å…­æ˜¯7** |                      |          |

```mysql
select year(now())         as "å¹´",
       month(now())        as "æœˆ",
       day(now())          as "æ—¥",
       hour(now())         as "æ—¶",
       minute(now())       as "åˆ†",
       second(now())       as "ç§’",
       year('2022-02-03')  as "å¹´",  -- 2022
       month('2022-02-03') as "æœˆ",  -- 2
       day('2022-02-03')   as "æ—¥",  -- 3
       hour('17:18:19')    as "æ—¶",  -- 17
       minute('17:18:19')  as "åˆ†",  -- 18
       second('17:18:19')  as "ç§’"   -- 19
from dual
```

![](https://attach.blog.wen7.online/image-20220722160851082.png)

```mysql
select monthname(now())  as "æœˆ",
       dayname(now())    as "å‘¨å‡ ",
       weekday(now())    as "å‘¨å‡ ", -- å‘¨ä¸€(0) å‘¨äºŒ(1) å‘¨ä¸‰(2) å‘¨å››(3) å‘¨äº”(4) å‘¨å…­(5) å‘¨æ—¥(6)
       quarter(now())    as "å­£åº¦", -- ä¸€äºŒä¸‰æœˆ:1  å››äº”å…­æœˆ:2  ä¸ƒå…«ä¹æœˆ:3 ...

       week(now())       as "å¹´å‘¨", -- ä¸€å¹´ä¸­ç¬¬å‡ å‘¨
       weekofyear(now()) as "å¹´å‘¨",
       dayofyear(now())  as "å¹´å¤©",
       dayofmonth(now()) as "æœˆå¤©",
       dayofweek(now())  as "å‘¨å¤©"  -- å‘¨æ—¥(1) å‘¨ä¸€(2) å‘¨äºŒ(3) å‘¨ä¸‰(4) å‘¨å››(5) å‘¨äº”(6) å‘¨å…­(7)
from dual
```

![image-20220722162455384](https://attach.blog.wen7.online/image-20220722162455384.png)



#### è·å–å¹´æœˆæ—¥æ—¶åˆ†ç§’ï¼ˆextractï¼‰

| å‡½æ•°                    | è¯´æ˜               |
| ----------------------- | ------------------ |
| extract(ç±»å‹ from æ—¥æœŸ) | è¿”å›æ—¥æœŸä¸­ç‰¹å®šéƒ¨åˆ† |

| ç±»å‹å–å€¼      | å«ä¹‰                     | å¸¸ç”¨     |
| ------------- | ------------------------ | -------- |
| year          | è¿”å›å¹´ä»½                 | ==å¸¸ç”¨== |
| month         | è¿”å›æœˆä»½                 | ==å¸¸ç”¨== |
| day           | è¿”å›å¤©æ•°ï¼Œä¸€ä¸ªæœˆä¸­ç¬¬å‡ å¤© | ==å¸¸ç”¨== |
| hour          | è¿”å›å°æ—¶                 | ==å¸¸ç”¨== |
| minute        | è¿”å›åˆ†é’Ÿ                 | ==å¸¸ç”¨== |
| second        | è¿”å›ç§’é’Ÿ                 | ==å¸¸ç”¨== |
|               |                          |          |
| week          | è¿”å›åœ¨ä¸€å¹´ä¸­ç¬¬å‡ ä¸ªæ˜ŸæœŸ   |          |
| quarter       | è¿”å›åœ¨ä¸€å¹´ä¸­ç¬¬å‡ ä¸ªå­£åº¦   |          |
|               |                          |          |
| year_month    | è¿”å›å¹´å’Œæœˆ               |          |
| day_hour      | è¿”å›ä¸€å¤©ä¸­çš„å°æ—¶æ•°       |          |
| day_minute    | è¿”å›å°æ—¶æ‹¼æ¥åˆ†é’Ÿ         |          |
| day_second    | è¿”å›å°æ—¶æ‹¼æ¥åˆ†é’Ÿæ‹¼æ¥ç§’é’Ÿ |          |
| hour_minute   | è¿”å›å°æ—¶æ‹¼æ¥åˆ†é’Ÿ         |          |
| hour_second   | è¿”å›å°æ—¶æ‹¼æ¥åˆ†é’Ÿæ‹¼æ¥ç§’é’Ÿ |          |
| minute_second | è¿”å›åˆ†é’Ÿæ‹¼æ¥ç§’é’Ÿ         |          |

```mysql
select extract(year from now())               as "å¹´ä»½",
       extract(month from now())              as "æœˆä»½",
       extract(day from now())                as "å¤©æ•°",
       extract(hour from now())               as "å°æ—¶",
       extract(minute from now())             as "åˆ†é’Ÿ",
       extract(second from now())             as "ç§’é’Ÿ",

       extract(week from now())               as "æ˜ŸæœŸ",
       extract(quarter from now())            as "å­£åº¦",

       extract(year_month from now())         as "å¹´æœˆ",
       extract(day_hour from now())           as "å°æ—¶",
       extract(day_minute from now())         as "å°æ—¶_åˆ†é’Ÿ",
       extract(day_second from now())         as "å°æ—¶_åˆ†é’Ÿ_ç§’é’Ÿ",
       extract(hour_minute from now())        as "å°æ—¶_åˆ†é’Ÿ",
       extract(hour_second from now())        as "å°æ—¶_åˆ†é’Ÿ_ç§’é’Ÿ",
       extract(minute_second from now())      as "åˆ†é’Ÿ_ç§’é’Ÿ"
from dual
```

![image-20220722164912010](https://attach.blog.wen7.online/image-20220722164912010.png)



#### æ—¶é—´æˆ³

| å‡½æ•°                     | å«ä¹‰                 | ç¤ºä¾‹                         | å¸¸ç”¨     |
| ------------------------ | -------------------- | ---------------------------- | -------- |
| unix_timestamp()         | è¿”å›å½“å‰æ—¶é—´çš„æ—¶é—´æˆ³ | select unix_timestamp()      | ==å¸¸ç”¨== |
| unix_timestamp(date)     | è¿”å›æŒ‡å®šæ—¶é—´çš„æ—¶é—´æˆ³ | select unix_timestamp(now()) | ==å¸¸ç”¨== |
|                          |                      |                              |          |
| from_unixtime(timestamp) | è¿”å›æ—¶é—´æˆ³çš„æ—¶é—´     | select from_unixtime()       | ==è¿”å›== |

```mysql
select unix_timestamp()                      as "å½“å‰æ—¶é—´æ—¶é—´æˆ³",
       unix_timestamp(now())                 as "æŒ‡å®šæ—¶é—´æ—¶é—´æˆ³",
       unix_timestamp('2020-02-02 18:18:18') as "æŒ‡å®šæ—¶é—´æ—¶é—´æˆ³",
       from_unixtime(1580638698)             as "æ—¶é—´æˆ³æŒ‡ä»£æ—¶é—´"
from dual
```

![image-20220725095050796](https://attach.blog.wen7.online/image-20220725095050796.png)

 

#### æ—¥æœŸè®¡ç®—

| å‡½æ•°                               | å«ä¹‰                                  | ç¤ºä¾‹                                   | å¸¸ç”¨     |
| ---------------------------------- | ------------------------------------- | -------------------------------------- | -------- |
| date_add(æ—¶é—´,interval  æ•°å€¼ ç±»å‹) | æ“ä½œæ—¶é—´ï¼Œæ•°å€¼ä¸ºè´Ÿå°±æ˜¯å‡å°‘            | select date_add(now(),interval  1 day) | ==å¸¸ç”¨== |
| adddate(æ—¶é—´,interval æ•°å€¼ ç±»å‹)   |                                       | select adddate(now(),interval  1 day)  | ==å¸¸ç”¨== |
| date_sub(æ—¶é—´,interval æ•°å€¼ ç±»å‹)  | æ“ä½œæ—¶é—´                              |                                        |          |
| subdate(æ—¶é—´,interval æ•°å€¼ ç±»å‹)   |                                       |                                        |          |
|                                    |                                       |                                        |          |
| last_day(date)                     | è¿”å› date æ‰€åœ¨æœˆä»½æœ€å1å¤©çš„æ—¥æœŸ       | select last_day(now())                 | ==å¸¸ç”¨== |
| addtime(time1,time2)               | æ—¶é—´1 + æ—¶é—´2                         |                                        |          |
| subtime(time1,time2)               |                                       |                                        |          |
| datediff(æ—¥æœŸ1ï¼Œæ—¥æœŸ2)             | è¿”å› æ—¥æœŸ1-æ—¥æœŸ2 çš„é—´éš”å¤©æ•°           |                                        |          |
| timediff(æ—¶é—´1ï¼Œæ—¶é—´2)             | è¿”å› æ—¶é—´1-æ—¶é—´2 çš„æ—¶é—´é—´éš”ï¼ˆæ—¶åˆ†ç§’ï¼‰ |                                        |          |
| maketime(hour,minute,second)       | æ—¶åˆ†ç§’åˆå¹¶è¿”å›                        |                                        |          |

```mysql
select now()                            as "å½“å‰æ—¶é—´",
       date_add(now(), interval 1 day)  as "æ·»åŠ 1å¤©",
       date_add(now(), interval -1 day) as "å‡å°‘1å¤©",
       adddate(now(), interval 2 hour)  as "æ·»åŠ 2å°æ—¶",
       adddate(now(), interval -2 hour) as "å‡å°‘2å°æ—¶"
from dual
```

![image-20220725141719474](https://attach.blog.wen7.online/image-20220725141719474.png)

```mysql
select now()                                  as "å½“å‰æ—¶é—´",
       last_day(now())                        as "å½“å‰æ—¥æœŸæ‰€åœ¨æœˆæœ€åä¸€å¤©",
       addtime('04:05:06', '01:02:03')        as "æ—¶åˆ†ç§’ç›¸åŠ ",
       subtime('04:05:06', '01:02:03')        as "æ—¶åˆ†ç§’ç›¸å‡",
       datediff(now(), '2000-01-01 00:00:00') as "æ—¶é—´é—´éš”/å¤©",
       timediff(now(), '2000-01-01 00:00:00') as "æ—¶é—´é—´éš”/æ—¶åˆ†ç§’",
       maketime(12, 13, 14)                   as "æ—¶åˆ†ç§’åˆå¹¶"
from dual
```

![image-20220725143038131](https://attach.blog.wen7.online/image-20220725143038131.png)



##### é—´éš”ç±»å‹

| é—´éš”ç±»å‹      | å«ä¹‰       |   å¸¸ç”¨   |
| ------------- | ---------- | :------: |
| year          | å¹´         | ==å¸¸ç”¨== |
| month         | æœˆ         | ==å¸¸ç”¨== |
| day           | æ—¥         | ==å¸¸ç”¨== |
| hour          | æ—¶         | ==å¸¸ç”¨== |
| minute        | åˆ†         | ==å¸¸ç”¨== |
| second        | ç§’         | ==å¸¸ç”¨== |
|               |            |          |
| year_month    | å¹´å’Œæœˆ     |          |
| day_hour      | æ—¥å’Œå°æ—¶   |          |
| day_minute    | æ—¥å’Œåˆ†é’Ÿ   |          |
| day_second    | æ—¥å’Œç§’     |          |
| hour_minute   | å°æ—¶å’Œåˆ†é’Ÿ |          |
| hour_second   | å°æ—¶å’Œç§’   |          |
| minute_second | åˆ†é’Ÿå’Œç§’   |          |



###  æµç¨‹æ§åˆ¶å‡½æ•°ï¼ˆé‡è¦ï¼‰

| å‡½æ•°                    | å«ä¹‰                                                       | å¸¸ç”¨     |
| ----------------------- | ---------------------------------------------------------- | -------- |
| ifnull(å€¼1ï¼Œå€¼2)        | ç”¨æ¥åˆ¤ç©ºï¼Œå¦‚æœå€¼1ä¸ä¸ºnullï¼Œè¿”å›å€¼1ï¼Œå¦‚æœå€¼1ä¸ºnullï¼Œè¿”å›å€¼2 | ==å¸¸ç”¨== |
| if(flagï¼Œå€¼1ï¼Œå€¼2)      | ç±»ä¼¼ä¸‰å…ƒè¿ç®—ç¬¦ï¼Œflag ä¸º trueï¼Œè¿”å›å€¼1ï¼Œä¸ºfalse è¿”å›å€¼2     |          |
|                         |                                                            |          |
| case when then else end | **è¯¦æƒ…è§ç‹¬ç«‹æ–‡æ¡£**                                         | ==å¸¸ç”¨== |

```mysql
select empno,
       ename,
       ifnull(mgr, -1) as "ä¸Šçº§ç®¡ç†è€…ç¼–å·"
from emp
```

![image-20220725144721203](https://attach.blog.wen7.online/image-20220725144721203.png)

```mysql
select if(true, 'åˆ˜äº¦è²', 'å€ªå¦®')  as "flag=true",
       if(false, 'åˆ˜äº¦è²', 'å€ªå¦®') as "flag=false",
       if(1, 'åˆ˜äº¦è²', 'å€ªå¦®')     as "flag=1",
       if(0, 'åˆ˜äº¦è²', 'å€ªå¦®')     as "flag=0"
from dual
```

![image-20220725145259387](https://attach.blog.wen7.online/image-20220725145259387.png)



### åŠ è§£å¯†å‡½æ•°

| å‡½æ•°                 | å«ä¹‰                                                 | å¸¸ç”¨        |
| -------------------- | ---------------------------------------------------- | ----------- |
| MD5(å­—ç¬¦ä¸²)          | å¯¹å­—ç¬¦ä¸²è¿›è¡Œ md5 åŠ å¯†ï¼Œ**ä¸å¯é€†**                    | ==å¸¸ç”¨==    |
| SHA(å­—ç¬¦ä¸²)ï¼Œ        | å¯¹å­—ç¬¦ä¸²è¿›è¡Œ sha åŠ å¯†ï¼Œæ¯” md5 æ›´å®‰å…¨ä¸€ç‚¹ï¼Œ**ä¸å¯é€†** | ==å¸¸ç”¨==    |
|                      |                                                      |             |
| ~~password(å­—ç¬¦ä¸²)~~ | å¯¹å­—ç¬¦ä¸²åŠ å¯†ï¼Œ**ä¸å¯é€†**                             | ==8.0åºŸå¼ƒ== |
| ~~encode(å­—ç¬¦ä¸²)~~   | å¯¹å­—ç¬¦ä¸²åŠ å¯†                                         | ==8.0åºŸå¼ƒ== |
| ~~decode(å­—ç¬¦ä¸²)~~   | å¯¹å­—ç¬¦ä¸²è§£å¯†                                         | ==8.0åºŸå¼ƒ== |

```mysql
select MD5('hello'),
       SHA('hello')
from dual
```



### ç³»ç»Ÿå‡½æ•°

| å‡½æ•°                 | å«ä¹‰               | ç¤ºä¾‹                       | å¸¸ç”¨ |
| -------------------- | ------------------ | -------------------------- | ---- |
| version()            | æŸ¥çœ‹ç‰ˆæœ¬           | select version()           |      |
| connection_id()      | æŸ¥çœ‹å½“å‰è¿æ¥æ•°     | select connection_id()     |      |
| database()ï¼Œschema() | æŸ¥çœ‹å½“å‰æ‰€åœ¨æ•°æ®åº“ | select database(),shcema() |      |
| charset(å­—ç¬¦ä¸²)      | æŸ¥çœ‹å­—ç¬¦ä¸²çš„å­—ç¬¦é›† | select charset("é—»è€C")    |      |
| collation(å­—ç¬¦ä¸²)    | æŸ¥çœ‹å­—ç¬¦ä¸²æ¯”è¾ƒè§„åˆ™ | select collation("é—»è€C")  |      |
|                      |                    |                            |      |
| user()               | æŸ¥çœ‹å½“å‰è¿æ¥ç”¨æˆ·   |                            |      |
| current_user()       | åŒä¸Š               |                            |      |
| system_user()        | åŒä¸Š               |                            |      |
| session_user()       | åŒä¸Š               |                            |      |

```mysql
select version()        as "ç‰ˆæœ¬",
       connection_id()  as "è¿æ¥æ•°",
       database()       as "å½“å‰æ•°æ®åº“",
       schema()         as "å½“å‰schema",
       charset('é—»è€C')   as "å­—ç¬¦é›†",
       collation('é—»è€C') as "å­—ç¬¦æ¯”è¾ƒè§„åˆ™",
       user()           as "å½“å‰ç”¨æˆ·",
       current_user()   as "å½“å‰ç”¨æˆ·",
       system_user()    as "å½“å‰ç”¨æˆ·",
       session_user()   as "å½“å‰ç”¨æˆ·"
from dual
```

![image-20220725164737809](https://attach.blog.wen7.online/image-20220725164737809.png)



## group by

### å‰è¨€

![image-20220726133026155](https://attach.blog.wen7.online/image-20220726133026155.png)

åˆ†ç»„ä¹‹åï¼Œåªåº”å½“å‡ºç° **åˆ†ç»„å­—æ®µ** + **ç»„å‡½æ•°**



### åˆ†ç»„å‡½æ•°

| å¸¸ç”¨ç»„å‡½æ•°  | å«ä¹‰               | ç¤ºä¾‹                     |   å¸¸ç”¨   |
| :---------- | ------------------ | ------------------------ | :------: |
| count(xxxx) | ç»Ÿè®¡å…±æœ‰å¤šå°‘ä¸ª     | select count(1) from emp | ==å¸¸ç”¨== |
| max(xxxx)   | æœ€å¤§å€¼             | select max(sal) from emp | ==å¸¸ç”¨== |
| min(xxxx)   | æœ€å°å€¼             | select min(sal) from emp | ==å¸¸ç”¨== |
| sum(xxxx)   | æ±‚å’Œï¼Œåªä½œç”¨äºæ•°å€¼ | select sum(sal) from emp | ==å¸¸ç”¨== |
| avg(xxxx)   | å¹³å‡ï¼Œåªä½œç”¨äºæ•°å€¼ | select avg(sal) from emp | ==å¸¸ç”¨== |
| ......      | ......             | ......                   |  ......  |

```mysql
select count(*)   as "ä¸€å…±çš„äººæ•°",
       max(score) as "åˆ†æ•°æœ€é«˜",
       min(score) as "åˆ†æ•°æœ€ä½",
       avg(score) as "å¹³å‡åˆ†",
       sum(score) as "æ€»åˆ†"
from t_student
```

![image-20220726133813807](https://attach.blog.wen7.online/image-20220726133813807.png)



#### count

```mysql
select count(*)     as "æ€»è®°å½•æ•°",
       count(1)     as "æ€»è®°å½•æ•°",
       count(empno) as "æŸ¥è¯¢ empno æ€»è®°å½•æ•°",
       count(mgr)   as "æŸ¥è¯¢ mgr æ€»è®°å½•æ•°"
from emp
```

- ç°è±¡ï¼šcount(*)ï¼Œcount(1)ï¼Œcount(empno) éƒ½æ˜¯15 æ¡ï¼Œcount(mgr) 14 æ¡
- ==count(xxx) å¿½ç•¥ä¸º null çš„æ•°æ®==
- é¢è¯•é¢˜ï¼šcount(*)ï¼Œcount(1)ï¼Œcount(åˆ—å) å“ªä¸ªå¥½ï¼Ÿ
	- æœ‰ä¸»é”®ä½¿ç”¨ä¸»é”®åˆ—ï¼Œcount(ä¸»é”®åˆ—)
	- æ²¡æœ‰ä¸»é”®ï¼Œä½¿ç”¨ count(1)

![image-20220726134129036](https://attach.blog.wen7.online/image-20220726134129036.png)



### group by

```mysql
select åˆ†ç»„å­—æ®µ,ç»„å‡½æ•°
from è¡¨å 
	left join æ¬¡è¡¨ on å…³è”å…³ç³»
	left join æ¬¡è¡¨ on å…³è”å…³ç³»
where è¿‡æ»¤æ¡ä»¶
group by åˆ†ç»„å­—æ®µ
order by æ’åºå­—æ®µ asc,æ’åºå­—æ®µ desc
limit [åç§»é‡,]æŸ¥è¯¢è¡Œæ•°
```

#### åŸºæœ¬ä½¿ç”¨

```mysql
-- æŒ‰ç…§éƒ¨é—¨ç¼–å·åˆ†ç»„
select deptno
from emp
group by deptno;
```

![image-20220727174834052](https://attach.blog.wen7.online/202207271748137.png)



#### å¤šå­—æ®µ

```mysql
select age,gender
from t_student
group by age,gender
```

![image-20220727133321138](https://attach.blog.wen7.online/image-20220727133321138.png)



#### ç»„å‡½æ•°

```mysql
select deptno   as "éƒ¨é—¨ç¼–å·",
       max(sal) as "æœ€é«˜å·¥èµ„",
       min(sal) as "æœ€ä½å·¥èµ„",
       avg(sal) as "å¹³å‡å·¥èµ„",
       sum(sal) as "å·¥èµ„æ€»å’Œ"
from emp
group by deptno;
```

![image-20220727174924812](https://attach.blog.wen7.online/202207271749879.png)

```mysql
select deptno,max(sal),min(sal),avg(sal),sum(sal)	-- select åé¢å‡ºç°çš„å­—æ®µ,åªèƒ½æ˜¯ group by è·Ÿçš„å­—æ®µ deptno,å’Œ ç»„å‡½æ•°
from emp
group by deptno;									-- åˆ†ç»„å­—æ®µ job
```

- select åé¢å‡ºç°çš„å­—æ®µï¼Œ==åªèƒ½è·Ÿ **åˆ†ç»„å­—æ®µ** å’Œ **ç»„å‡½æ•°**==

	- åˆ†ç»„å­—æ®µå¯ä»¥ä¸å‡ºç°
	- ç»„å‡½æ•°é‡Œçš„å­—æ®µå¯ä»¥æ˜¯å…¶ä»–å­—æ®µ

- è™½ç„¶ MySQL é‡ŒåŠ äº†å…¶ä»–å­—æ®µæ˜¯ä¸ä¼šæŠ¥é”™çš„ï¼Œä½†æ˜¯æ˜¯ä¸è§„èŒƒï¼Œä¸ä¸¥è°¨ï¼Œæ²¡æœ‰æ„ä¹‰çš„ï¼Œä¾‹å¦‚ Oracle é‡ŒåŠ å…¶ä»–å­—æ®µå°±ä¼šæŠ¥é”™

	  

#### ~~with rollup~~

```mysql
select deptno, max(sal), min(sal), avg(sal), sum(sal)
from emp
group by deptno with rollup;
```

<img src="https://attach.blog.wen7.online/202207271750050.png" alt="image-20220727175031967" style="zoom:60%;" /><img src="https://attach.blog.wen7.online/202207271751904.png" alt="image-20220727175114833" style="zoom:60%;" />

å¯¹æœ€åçš„ç»“æœï¼Œå†è¿›è¡Œä¸€æ¬¡ ç»„å‡½æ•°è®¡ç®—

- with rollup å’Œ order by ä¸èƒ½åŒæ—¶ä½¿ç”¨
	- åŠ©è®°ï¼šwith rollup ç›¸å½“äº Excel æœ€åä¸€è¡Œçš„ç»Ÿè®¡ï¼Œå¦‚æœ order by çš„è¯ï¼Œwith rollup å°±æœ‰å¯èƒ½ä¸åœ¨æœ€åä¸€è¡Œï¼Œå¤±å»äº†æ„ä¹‰



having
---

```mysql
select åˆ†ç»„å­—æ®µ,ç»„å‡½æ•°
from è¡¨å 
	left join æ¬¡è¡¨ on å…³è”å…³ç³»
	left join æ¬¡è¡¨ on å…³è”å…³ç³»
where è¿‡æ»¤æ¡ä»¶
group by åˆ†ç»„å­—æ®µ
having åˆ†ç»„ä¹‹åè¿‡æ»¤æ¡ä»¶
order by æ’åºå­—æ®µ asc,æ’åºå­—æ®µ desc
limit [åç§»é‡,]æŸ¥è¯¢è¡Œæ•°
```

- å› ä¸º where çš„æ‰§è¡Œè¦å…ˆäº group byï¼Œå¦‚æœ group by ä¹‹åï¼Œå†æœ‰è¿‡æ»¤æ¡ä»¶ï¼Œåªèƒ½ä½¿ç”¨ having
- **having åœ¨ group by åˆ†ç»„ä¹‹åä½¿ç”¨**



### é”™è¯¯ä½¿ç”¨

```mysql
select deptno   as "éƒ¨é—¨ç¼–å·",
       avg(sal) as "å¹³å‡å·¥èµ„"
from emp
where avg(sal) >= 2000                  -- ã€æŠ¥é”™ã€‘Invalid use of group function(ç»„å‡½æ•°çš„ä½¿ç”¨æ— æ•ˆ)
group by deptno;
```

![image-20220727175234521](https://attach.blog.wen7.online/202207271752586.png)



### æ­£ç¡®ä½¿ç”¨

```mysql
select deptno   as "éƒ¨é—¨ç¼–å·",
       avg(sal) as "å¹³å‡å·¥èµ„"
from emp
group by deptno
having avg(sal) >= 2000;
```

![image-20220727175339089](https://attach.blog.wen7.online/202207271753161.png)



### where å’Œ having

æŸ¥è¯¢éƒ¨é—¨ç¼–å·ä¸º 10ï¼Œ20ï¼Œ30 éƒ¨é—¨ä¸­ï¼Œå¹³å‡å·¥èµ„è¶…è¿‡ 2000 çš„éƒ¨é—¨å’Œå¹³å‡å·¥èµ„

```mysql
select deptno   as "éƒ¨é—¨ç¼–å·",
       avg(sal) as "å¹³å‡å·¥èµ„"
from emp
where deptno in (10,20,30)
group by deptno
having avg(sal) >= 2000 # and deptno in (10,20,30);
```

```mysql
select deptno   as "éƒ¨é—¨ç¼–å·",
       avg(sal) as "å¹³å‡å·¥èµ„"
from emp
# where deptno in (10,20,30)
group by deptno
having avg(sal) >= 2000 and deptno in (10,20,30);
```

- è¿‡æ»¤æ¡ä»¶æœ‰ç»„å‡½æ•°æ—¶ï¼Œå¿…é¡»å£°æ˜åœ¨ having ä¸­ï¼Œä¾‹å¦‚ avg(sal)
- è¿‡æ»¤æ¡ä»¶æ²¡æœ‰ç»„å‡½æ•°æ—¶ï¼Œå»ºè®®å£°æ˜åœ¨ where ä¸­ï¼Œä¾‹å¦‚ deptnoï¼ˆè™½ç„¶å¯ä»¥åœ¨ having ä¸­ï¼Œä½†æ˜¯æ•ˆç‡ä¸é«˜ï¼‰





SQL æ‰§è¡Œé¡ºåº
---

```mysql
select åˆ†ç»„å­—æ®µ,ç»„å‡½æ•°
from è¡¨å 
	left join æ¬¡è¡¨ on å…³è”å…³ç³»
	left join æ¬¡è¡¨ on å…³è”å…³ç³»
where è¿‡æ»¤æ¡ä»¶ 
	and è¿‡æ»¤æ¡ä»¶
group by åˆ†ç»„å­—æ®µ
having åˆ†ç»„ä¹‹åè¿‡æ»¤æ¡ä»¶
order by æ’åºå­—æ®µ asc,æ’åºå­—æ®µ desc
limit [åç§»é‡,]æŸ¥è¯¢è¡Œæ•°
```

```mysql
(5) select åˆ†ç»„å­—æ®µ,ç»„å‡½æ•°
(1) from è¡¨å 
		left join æ¬¡è¡¨ on å…³è”å…³ç³»
		left join æ¬¡è¡¨ on å…³è”å…³ç³»
(2) where è¿‡æ»¤æ¡ä»¶ 
		and è¿‡æ»¤æ¡ä»¶
(3) group by åˆ†ç»„å­—æ®µ
(4) having åˆ†ç»„ä¹‹åè¿‡æ»¤æ¡ä»¶
(6) order by æ’åºå­—æ®µ asc,æ’åºå­—æ®µ desc
(7) limit [åç§»é‡,]æŸ¥è¯¢è¡Œæ•°
```

æ‰§è¡Œè¿‡ç¨‹ï¼š

1. å…ˆæ‰§è¡Œ from
2. å†æ‰§è¡Œ where
3. å†æ‰§è¡Œ group by
4. å†æ‰§è¡Œ having
5. ==æ‰§è¡Œ select==  å†æ‰§è¡Œ distinct 
6. å†æ‰§è¡Œ order by
7. å†æ‰§è¡Œ limit

æ‰§è¡Œè¿‡ç¨‹è§£æï¼š

1. from 
	- å‡å¦‚å•è¡¨æŸ¥è¯¢ï¼Œé‚£å°±æ˜¯å•è¡¨
	- å¦‚æœå¤šè¡¨è”æŸ¥ï¼Œ `from è¡¨1  left join è¡¨2  on å…³è”æ¡ä»¶` 
		- å…ˆè¿›è¡Œç¬›å¡å°”ç§¯ï¼Œå¾—åˆ°è™šæ‹Ÿè¡¨ï¼ˆè¡Œæ•° = è¡¨1çš„è¡Œæ•° * è¡¨2çš„è¡Œæ•°ï¼‰ä»¥ä¸‹ç§°ä¸º **ç¬›å¡å°”è¡¨**ï¼ˆåªæ˜¯ä¸ºäº†æ–¹ä¾¿æ–‡å­—æè¿°ï¼‰
		- è¿›è¡Œ on ç­›é€‰ï¼Œåœ¨ **ç¬›å¡å°”è¡¨** çš„åŸºç¡€ä¸Šï¼Œå¾—åˆ°è™šæ‹Ÿè¡¨ï¼Œä»¥ä¸‹ç§°ä¸º **å†…å…³è”è¡¨**ï¼ˆåªæ˜¯ä¸ºäº†æ–¹ä¾¿æ–‡å­—æè¿°ï¼‰ 
		- å†è¿›è¡Œ left æˆ–è€… right ç­›é€‰ï¼Œå› ä¸ºå·¦å¤–å…³è”ï¼Œå³å¤–å…³è”ä¼šå¤šå‡ºé¢å¤–çš„è¡Œï¼Œåœ¨ **å†…å…³è”è¡¨ **çš„åŸºç¡€ä¸Šå¾—åˆ°è™šæ‹Ÿè¡¨ï¼Œä»¥ä¸‹ç§°ä¸º **å…³è”è¡¨**
		- å¦‚æœæ˜¯ 3 å¼ è¡¨ï¼Œå‰é¢ä¸¤å¼ è¡¨å¾—åˆ°çš„ **å…³è”è¡¨**ï¼Œå†ä¸ç¬¬ 3 å¼ è¡¨è¿›è¡Œå…³è”ï¼Œ é‡å¤ä»¥ä¸ŠåŠ¨ä½œï¼Œå¾—åˆ°è™šæ‹Ÿè¡¨ï¼Œä»¥ä¸‹è¿˜ç§°ä¸º **å…³è”è¡¨**
2. where
	- æ‹¿åˆ° **å…³è”è¡¨** çš„æ•°æ®ï¼Œè¿›è¡Œ where æ¡ä»¶è¿‡æ»¤ï¼Œå¾—åˆ°è™šæ‹Ÿè¡¨ï¼Œä»¥ä¸‹ç§°ä¸º **ç¬¦åˆæ¡ä»¶è¡¨** ï¼ˆåªæ˜¯ä¸ºäº†æ–¹ä¾¿æ–‡å­—æè¿°ï¼‰
3. group by
	- æ‹¿åˆ° **ç¬¦åˆæ¡ä»¶è¡¨** çš„æ•°æ®ï¼Œè¿›è¡Œåˆ†ç»„ï¼Œå¾—åˆ°è™šæ‹Ÿè¡¨ï¼Œä»¥ä¸‹ç§°ä¸º **åˆ†ç»„è¡¨**ï¼ˆåªæ˜¯ä¸ºäº†æ–¹ä¾¿æ–‡å­—æè¿°ï¼‰
4. having
	- æ‹¿åˆ° **åˆ†ç»„è¡¨** çš„æ•°æ®ï¼Œå†è¿›è¡Œè¿‡æ»¤ï¼Œå¾—åˆ°è™šæ‹Ÿè¡¨è¡¨ï¼Œä»¥ä¸‹ç§°ä¸º **åˆ†ç»„è¿‡æ»¤è¡¨**ï¼ˆåªæ˜¯ä¸ºäº†æ–¹ä¾¿æ–‡å­—æè¿°ï¼‰
	- è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆ where çš„æ•ˆç‡ä¼šæ¯” having æ•ˆç‡é«˜
5. select
	- å®Œæˆäº†è¡¨å…³è”ï¼Œæ¡ä»¶ç­›é€‰ï¼Œåˆ†ç»„æŸ¥è¯¢ï¼Œåˆ†ç»„è¿‡æ»¤ï¼Œæå–è¡¨ä¸­çš„å­—æ®µï¼Œè¿›è¡Œ select
	- å…ˆæå– select çš„å­—æ®µ
	- å† distinct è¿‡æ»¤æ‰é‡å¤è¡Œï¼Œå¾—åˆ°è™šæ‹Ÿè¡¨ï¼Œä»¥ä¸‹ç§°ä¸º **select è¡¨**ï¼ˆåªæ˜¯ä¸ºäº†æ–¹ä¾¿æ–‡å­—æè¿°ï¼‰
6. order by
	- æ ¹æ®æŒ‡å®šçš„å­—æ®µæ’åºï¼Œå¾—åˆ°è™šæ‹Ÿè¡¨ï¼Œä»¥ä¸‹ç§°ä¸º **æ’åºè¡¨**ï¼ˆåªæ˜¯ä¸ºäº†æ–¹ä¾¿æ–‡å­—æè¿°ï¼‰
7. limit
	- åœ¨ **æ’åºè¡¨** çš„åŸºç¡€ä¸Šï¼Œå–å‡ºæŒ‡å®šè¡Œçš„æ•°æ®ï¼Œå¾—åˆ° ==ç»“æœé›†==

